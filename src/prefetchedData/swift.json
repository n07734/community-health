{"data":{"repository":{"id":"MDEwOlJlcG9zaXRvcnk0NDgzODk0OQ==","name":"swift","owner":{"login":"apple"},"pullRequests":{"edges":[{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjU0NDk3NjAz","url":"https://github.com/apple/swift/pull/22735","author":{"login":"marcrasi"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":114,"deletions":10,"changedFiles":6,"mergedAt":"2019-02-20T07:03:09Z","createdAt":"2019-02-20T04:37:27Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA1NTk0NjUw","state":"APPROVED","author":{"login":"rxwei"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0yMFQwNjozNzo1MCswMDowMLkyMDE5LTAyLTIwVDA2OjM3OjUwKzAwOjAwzgxBIBo=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0yMFQwNjozNzo1MCswMDowMLkyMDE5LTAyLTIwVDA2OjM3OjUwKzAwOjAwzgxBIBo="}},"comments":{"edges":[{"node":{"author":{"login":"marcrasi"},"body":"@swift-ci please test tensorflow"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG73BSA==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG73BSA=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjU0NDUzNTQw","url":"https://github.com/apple/swift/pull/22729","author":{"login":"slavapestov"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":193,"deletions":42,"changedFiles":21,"mergedAt":"2019-02-20T04:37:33Z","createdAt":"2019-02-20T00:00:52Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"slavapestov"},"body":"@swift-ci Please test"}},{"node":{"author":{"login":"slavapestov"},"body":"@swift-ci Please test source compatibility"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7zdlw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7zdgg=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjU0NDIyNDU1","url":"https://github.com/apple/swift/pull/22724","author":{"login":"compnerd"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":5,"deletions":5,"changedFiles":3,"mergedAt":"2019-02-19T23:13:00Z","createdAt":"2019-02-19T21:52:25Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please smoke test and merge"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7xPGw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7xPGw=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjU0NDIwNDU2","url":"https://github.com/apple/swift/pull/22723","author":{"login":"gottesmm"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":30,"deletions":26,"changedFiles":1,"mergedAt":"2019-02-20T00:46:20Z","createdAt":"2019-02-19T21:45:30Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"gottesmm"},"body":"NFC."}},{"node":{"author":{"login":"gottesmm"},"body":"@swift-ci smoke test and merge"}},{"node":{"author":{"login":"gottesmm"},"body":"@swift-ci smoke test and merge"}},{"node":{"author":{"login":"gottesmm"},"body":"@swift-ci smoke test and merge"}},{"node":{"author":{"login":"gottesmm"},"body":"@swift-ci smoke test os x platform"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7zbgg==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7xGPQ=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjU0NDE3MDM2","url":"https://github.com/apple/swift/pull/22720","author":{"login":"gottesmm"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":53,"deletions":50,"changedFiles":1,"mergedAt":"2019-02-19T22:59:22Z","createdAt":"2019-02-19T21:33:37Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"gottesmm"},"body":"@swift-ci smoke test and merge"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7w3tA==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7w3tA=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjU0NDA5MzU1","url":"https://github.com/apple/swift/pull/22718","author":{"login":"gottesmm"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":37,"deletions":28,"changedFiles":1,"mergedAt":"2019-02-19T22:41:00Z","createdAt":"2019-02-19T21:08:28Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"gottesmm"},"body":"@swift-ci smoke test and merge"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7wlXQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7wlXQ=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjU0Mzg3NDg0","url":"https://github.com/apple/swift/pull/22717","author":{"login":"rintaro"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":13,"deletions":2,"changedFiles":3,"mergedAt":"2019-02-20T01:42:14Z","createdAt":"2019-02-19T19:54:21Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA1NDc0MTkw","state":"COMMENTED","author":{"login":"benlangmuir"},"comments":{"edges":[{"node":{"author":{"login":"benlangmuir"},"body":"Why not handle this deeper in the ExprContextAnalyzer, or in the parent finding?"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOVQyMTo1Nzo1NFrOD2SLUQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOVQyMTo1Nzo1NFrOD2SLUQ=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA1NDg1NDI3","state":"COMMENTED","author":{"login":"rintaro"},"comments":{"edges":[{"node":{"author":{"login":"rintaro"},"body":"No reason. I moved it into the parent finding, because that seems to be more correct."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOVQyMjoyNDo0M1rOD2SuqA==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOVQyMjoyNDo0M1rOD2SuqA=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA1NDg2Mjg1","state":"APPROVED","author":{"login":"benlangmuir"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xOVQyMjoyNjo1MiswMDowMLkyMDE5LTAyLTE5VDIyOjI2OjUyKzAwOjAwzgw_eM0=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xOVQyMTo1Nzo1NSswMDowMLkyMDE5LTAyLTE5VDIxOjU3OjU0KzAwOjAwzgw_SY4="}},"comments":{"edges":[{"node":{"author":{"login":"rintaro"},"body":"@swift-ci Please smoke test"}},{"node":{"author":{"login":"rintaro"},"body":"@swift-ci Please smoke test OS X platform"}},{"node":{"author":{"login":"rintaro"},"body":"@swift-ci Please smoke test"}},{"node":{"author":{"login":"rintaro"},"body":"@swift-ci Please smoke test OS X platform"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7zwyg==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7uxMQ=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjU0MzgyMjAw","url":"https://github.com/apple/swift/pull/22716","author":{"login":"compnerd"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":2,"deletions":2,"changedFiles":1,"mergedAt":"2019-02-20T02:51:29Z","createdAt":"2019-02-19T19:37:21Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"compnerd"},"body":"CC: @jckarter @bitjammer "}},{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please test"}},{"node":{"author":{"login":"swift-ci"},"body":"**Build failed**\n[Swift Test OS X Platform](https://ci.swift.org/job/swift-PR-osx/11135/)\nGit Sha - 70a7dda5b101a8c9d5ba1048f1f6afff743c9c5e\n"}},{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please test macOS platform"}},{"node":{"author":{"login":"swift-ci"},"body":"**Build failed**\n[Swift Test OS X Platform](https://ci.swift.org/job/swift-PR-osx/11139/)\nGit Sha - 70a7dda5b101a8c9d5ba1048f1f6afff743c9c5e\n"}},{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please test macOS platform"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7zWAQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7uY8Q=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjU0MjkxMzMw","url":"https://github.com/apple/swift/pull/22709","author":{"login":"davezarzycki"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":44,"deletions":4,"changedFiles":1,"mergedAt":"2019-02-19T17:58:47Z","createdAt":"2019-02-19T15:11:45Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"davezarzycki"},"body":"@swift-ci please smoke test and merge"}},{"node":{"author":{"login":"davezarzycki"},"body":"@swift-ci please smoke test linux"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7pyZQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7nrZQ=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjU0MTI4MTg3","url":"https://github.com/apple/swift/pull/22706","author":{"login":"gottesmm"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":48,"deletions":0,"changedFiles":1,"mergedAt":"2019-02-19T07:29:42Z","createdAt":"2019-02-19T06:16:03Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"gottesmm"},"body":"Just adding a test"}},{"node":{"author":{"login":"gottesmm"},"body":"@swift-ci smoke test and merge"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7dUWA==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7dUQQ=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjU0MTIyMTYx","url":"https://github.com/apple/swift/pull/22705","author":{"login":"gottesmm"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":58,"deletions":4,"changedFiles":2,"mergedAt":"2019-02-19T06:52:29Z","createdAt":"2019-02-19T05:41:18Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"gottesmm"},"body":"@swift-ci smoke test and merge"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7c7VA==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7c7VA=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjU0MTE1OTI5","url":"https://github.com/apple/swift/pull/22704","author":{"login":"gottesmm"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":3,"deletions":2,"changedFiles":1,"mergedAt":"2019-02-19T05:54:28Z","createdAt":"2019-02-19T04:59:57Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"gottesmm"},"body":"@swift-ci smoke test and merge"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7cVlQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7cVlQ=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjU0MTA1MjQ2","url":"https://github.com/apple/swift/pull/22703","author":{"login":"gottesmm"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":505,"deletions":1,"changedFiles":2,"mergedAt":"2019-02-19T04:53:13Z","createdAt":"2019-02-19T03:43:15Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"gottesmm"},"body":"@swift-ci smoke test and merge"}},{"node":{"author":{"login":"gottesmm"},"body":"There is also a subsequent commit that is going to fix switch_enum. This just goes in first."}},{"node":{"author":{"login":"ravikandhadai"},"body":"@gottesmm Thanks for making this change. I guess there was some source-level test in pound_assert.swift that failed because of not handling destructures. Is that right?  If so, can you please let me know which test failed?  Based on my understanding of this https://forums.swift.org/t/sil-ownership-model-proposal-refreshed/16872#value-projections-and-destructures, does this mean we have some entity in the pound_assert.swift test file with `Owned`  semantics?  cc @devincoughlin "}},{"node":{"author":{"login":"gottesmm"},"body":"I talked with @ravikandhadai and I explained to him that this only fails with my forthcoming change to have ownership be stripped at -Onone after serialization. The *.swift test will only fail once I flip the switch. These tests ensure that we do not regress from the given fix."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7v2Wg==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7bfMw=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjU0MDk2NTI0","url":"https://github.com/apple/swift/pull/22702","author":{"login":"gottesmm"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":8,"deletions":0,"changedFiles":1,"mergedAt":"2019-02-19T03:47:26Z","createdAt":"2019-02-19T02:42:27Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"gottesmm"},"body":"@swift-ci smoke test and merge"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7au_w==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7au_w=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjU0MDkxMTM0","url":"https://github.com/apple/swift/pull/22701","author":{"login":"xedin"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":52,"deletions":12,"changedFiles":5,"mergedAt":"2019-02-19T08:55:54Z","createdAt":"2019-02-19T02:02:51Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA1MDM0NDUw","state":"APPROVED","author":{"login":"slavapestov"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xOVQwNTozMDozNSswMDowMLkyMDE5LTAyLTE5VDA1OjMwOjM1KzAwOjAwzgw4k9I=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xOVQwNTozMDozNSswMDowMLkyMDE5LTAyLTE5VDA1OjMwOjM1KzAwOjAwzgw4k9I="}},"comments":{"edges":[{"node":{"author":{"login":"xedin"},"body":"@swift-ci please smoke test"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7aQWg==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7aQWg=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjU0MDg4Nzkw","url":"https://github.com/apple/swift/pull/22700","author":{"login":"nkcsgexi"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":194,"deletions":0,"changedFiles":5,"mergedAt":"2019-02-19T03:50:44Z","createdAt":"2019-02-19T01:45:08Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"nkcsgexi"},"body":"@swift-ci please smoke test"}},{"node":{"author":{"login":"nkcsgexi"},"body":"@swift-ci please smoke test"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7aH7A==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7aCNg=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjU0MDc4MTcw","url":"https://github.com/apple/swift/pull/22698","author":{"login":"gottesmm"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":439,"deletions":28,"changedFiles":5,"mergedAt":"2019-02-19T01:14:29Z","createdAt":"2019-02-19T00:19:18Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"gottesmm"},"body":"@swift-ci smoke test and merge"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7ZEug==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7ZEug=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjU0MDczNTU0","url":"https://github.com/apple/swift/pull/22697","author":{"login":"slavapestov"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":14,"deletions":19,"changedFiles":2,"mergedAt":"2019-02-19T04:44:25Z","createdAt":"2019-02-18T23:44:32Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"slavapestov"},"body":"@swift-ci Please test"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7Yt5g==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7Yt5g=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjU0MDM3NTEw","url":"https://github.com/apple/swift/pull/22694","author":{"login":"dan-zheng"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":79,"deletions":17,"changedFiles":2,"mergedAt":"2019-02-18T22:03:21Z","createdAt":"2019-02-18T20:46:13Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"@swift-ci Please test tensorflow"}},{"node":{"author":{"login":"dan-zheng"},"body":"Merging; happy to address feedback later."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7XEeA==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7Viwg=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjU0MDMwNDM4","url":"https://github.com/apple/swift/pull/22693","author":{"login":"xedin"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":33,"deletions":31,"changedFiles":3,"mergedAt":"2019-02-18T23:10:54Z","createdAt":"2019-02-18T20:13:13Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"xedin"},"body":"@swift-ci please smoke test"}},{"node":{"author":{"login":"xedin"},"body":"@shahmishal Do you know if this Linux failure is already tracked?\r\n\r\n```\r\n15:04:04 SIL verification failed: nothrow flag used for callee without error result: calleeConv.funcTy->hasErrorResult()\r\n15:04:04 Verifying instruction:\r\n15:04:04      %245 = apply %10(%242, %244) : $@convention(method) (@owned String, @owned Scanner) -> @owned Scanner // users: %259, %361, %367, %253, %258, %366, %246\r\n15:04:04      // function_ref closure #6 in TestScanner.testScanFloatingPoint()\r\n15:04:04   %256 = function_ref @$s14TestFoundation0A7ScannerC21testScanFloatingPointyyFy0B00C0CcfU4_ : $@convention(thin) (@guaranteed Scanner) -> () // user: %258\r\n15:04:04 ->   %258 = apply [nothrow] %256(%245) : $@convention(thin) (@guaranteed Scanner) -> ()\r\n15:04:04 In function:\r\n15:04:04 // TestScanner.testScanFloatingPoint()\r\n```"}},{"node":{"author":{"login":"shahmishal"},"body":"@xedin This issue has been resolved now. "}},{"node":{"author":{"login":"shahmishal"},"body":"@swift-ci smoke test Linux"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7XEsA==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7U9QA=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjU0MDIyOTkx","url":"https://github.com/apple/swift/pull/22692","author":{"login":"gottesmm"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":50,"deletions":12,"changedFiles":3,"mergedAt":"2019-02-18T20:55:27Z","createdAt":"2019-02-18T19:36:17Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0OTMxNjQ5","state":"COMMENTED","author":{"login":"gottesmm"},"comments":{"edges":[{"node":{"author":{"login":"gottesmm"},"body":"In a subsequent commit. I may change the name of this to setNonThrowing. I want to do that in a subsequent commit so I can unblock the bots."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQxOTozOToxM1rOD13cZQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQxOTozOToxM1rOD13cZQ=="}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xOFQxOTozOToxNCswMDowMLkyMDE5LTAyLTE4VDE5OjM5OjEzKzAwOjAwzgw3AkE=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xOFQxOTozOToxNCswMDowMLkyMDE5LTAyLTE4VDE5OjM5OjEzKzAwOjAwzgw3AkE="}},"comments":{"edges":[{"node":{"author":{"login":"gottesmm"},"body":"@swift-ci smoke test"}},{"node":{"author":{"login":"gottesmm"},"body":"@swift-ci smoke test"}},{"node":{"author":{"login":"gottesmm"},"body":"@swift-ci smoke test"}},{"node":{"author":{"login":"gottesmm"},"body":"@swift-ci smoke test linux platform"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7VtQg==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7UYcQ=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjU0MDEwMzcx","url":"https://github.com/apple/swift/pull/22691","author":{"login":"aschwaighofer"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":78,"deletions":2,"changedFiles":4,"mergedAt":"2019-02-19T16:38:08Z","createdAt":"2019-02-18T18:34:34Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0OTI2NjQ4","state":"COMMENTED","author":{"login":"slavapestov"},"comments":{"edges":[{"node":{"author":{"login":"slavapestov"},"body":"Even if the type is resilient?"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQxOToxOToxMlrOD13MaQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQxOToxOToxMlrOD13MaQ=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0OTQwMjcx","state":"COMMENTED","author":{"login":"aschwaighofer"},"comments":{"edges":[{"node":{"author":{"login":"aschwaighofer"},"body":"Yes I think you should be able to replace resilient constructors via dynamic replacement."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQyMDoxNDoxMVrOD134bw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQyMDoxNDoxMVrOD134bw=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0OTU5NjQ2","state":"COMMENTED","author":{"login":"slavapestov"},"comments":{"edges":[{"node":{"author":{"login":"slavapestov"},"body":"Does the dynamic replacement module have visibility past the resilience boundary? It seems like that would require additional code, or building it with the IRGenOptions::EnableResilienceBypass flag set. Did you test this scenario?"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQyMTozNjozOFrOD142CQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQyMTozNjozOFrOD142CQ=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0OTYyNzk0","state":"COMMENTED","author":{"login":"aschwaighofer"},"comments":{"edges":[{"node":{"author":{"login":"aschwaighofer"},"body":"Here is what I have tested:\r\n\r\n```\r\n$ cat ModuleA.swift\r\nstruct S {\r\n    let i: Int\r\n    init(i: Int) {\r\n        self.i = i\r\n    }\r\n\r\n    init(y: Int) {\r\n      self.init(i: y)\r\n    }\r\n}\r\n```\r\n```\r\n$ bin/swiftc -emit-library -Xfrontend -enable-private-imports -Xfrontend -enable-implicit-dynamic ModuleA.swift  -emit-module -enable-resilience\r\n```\r\n\r\n```\r\n$ cat ModuleB.swift\r\n@_private(sourceFile: \"ModuleA.swift\") import ModuleA\r\n\r\nextension S {\r\n  @_dynamicReplacement(for: init(i:))\r\n  private init(__preview_i: Int) {\r\n    self.i = __preview_i\r\n  }\r\n  @_dynamicReplacement(for: init(y:))\r\n  private init(__preview_y: Int) {\r\n    self.init(i: __preview_y)\r\n  }\r\n}\r\n```\r\n\r\n```\r\n$ bin/swiftc -emit-library -Xfrontend -enable-private-imports -Xfrontend -enable-implicit-dynamic ModuleB.swift -I. -L. -lModuleA -Xfrontend -enable-resilience -emit-sil\r\n```\r\n\r\n```\r\n// S.init(__preview_i:)\r\nsil [dynamic_replacement_for \"$s7ModuleA1SV1iACSi_tcfC\"] @$s7ModuleA1SV0A1BE11__preview_iACSi_tc33_261761554CC3BA78F2BD69544DB6E8C4LlfC : $@convention(method) (Int, @thin S.Type) -> S {\r\n// %0                                             // users: %8, %6, %3\r\nbb0(%0 : $Int, %1 : $@thin S.Type):\r\n  %2 = alloc_stack $S, var, name \"self\"           // users: %4, %9\r\n  debug_value %0 : $Int, let, name \"__preview_i\", argno 1 // id: %3\r\n  %4 = begin_access [modify] [static] %2 : $*S    // users: %7, %5\r\n  %5 = struct_element_addr %4 : $*S, #S.i         // user: %6\r\n  store %0 to %5 : $*Int                          // id: %6\r\n  end_access %4 : $*S                             // id: %7\r\n  %8 = struct $S (%0 : $Int)                      // user: %10\r\n  dealloc_stack %2 : $*S                          // id: %9\r\n  return %8 : $S                                  // id: %10\r\n}\r\n```"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQyMTo1MTowN1rOD15ATQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQyMTo1MTowN1rOD15ATQ=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0OTczNDEz","state":"COMMENTED","author":{"login":"slavapestov"},"comments":{"edges":[{"node":{"author":{"login":"slavapestov"},"body":"What if S and S.init are both public?"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQyMjo0Mzo0MlrOD15jTw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQyMjo0Mzo0MlrOD15jTw=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0OTc1NjQ1","state":"COMMENTED","author":{"login":"aschwaighofer"},"comments":{"edges":[{"node":{"author":{"login":"aschwaighofer"},"body":"Hmm, that just crashes the compiler."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQyMjo1NjoxMlrOD15q0Q==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQyMjo1NjoxMlrOD15q0Q=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA1MDMzOTk3","state":"COMMENTED","author":{"login":"slavapestov"},"comments":{"edges":[{"node":{"author":{"login":"slavapestov"},"body":"I think we could make it work, if the dynamic replacement module is built with EnableResilienceBypass on."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOVQwNToyNzo0N1rOD18nzQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOVQwNToyNzo0N1rOD18nzQ=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA1MzIxMTgz","state":"COMMENTED","author":{"login":"aschwaighofer"},"comments":{"edges":[{"node":{"author":{"login":"aschwaighofer"},"body":"It crashes in SILGen. There are more dragons. I will deal with that later."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOVQxNjozNzo1OFrOD2KsWQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOVQxNjozNzo1OFrOD2KsWQ=="}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xOVQxNjozNzo1OCswMDowMLkyMDE5LTAyLTE5VDE2OjM3OjU4KzAwOjAwzgw8898=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xOFQxOToxOToxMiswMDowMLkyMDE5LTAyLTE4VDE5OjE5OjEyKzAwOjAwzgw27rg="}},"comments":{"edges":[{"node":{"author":{"login":"aschwaighofer"},"body":"@swift-ci Please test"}},{"node":{"author":{"login":"aschwaighofer"},"body":"@swift-ci Please test"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7YJsw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7TdUg=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzOTIzNzg2","url":"https://github.com/apple/swift/pull/22689","author":{"login":"davezarzycki"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":16,"deletions":1,"changedFiles":2,"mergedAt":"2019-02-19T13:21:43Z","createdAt":"2019-02-18T13:53:49Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0OTI4NDQw","state":"COMMENTED","author":{"login":"xedin"},"comments":{"edges":[{"node":{"author":{"login":"xedin"},"body":"Updated assert makes sense, thank you! But the example itself doesn't trigger updated code in requirement failure, or any diagnostics for that matter. Would be great to get this example to diagnose before merging. I think that might be a bit tough though because fixing requirements in overloaded decls like that usually leads to ambiguities because both `G`s would much."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQxOToyNjoyMlrOD13SRg==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQxOToyNjoyMlrOD13SRg=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0OTYyNjc4","state":"COMMENTED","author":{"login":"davezarzycki"},"comments":{"edges":[{"node":{"author":{"login":"davezarzycki"},"body":"Hi @xedin – If you look at the test case, it negates the exit value via `not` because the actual diagnostics doesn't matter, just that the test case should no longer crash the compiler."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQyMTo1MDozNlrOD14_8w==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQyMTo1MDozNlrOD14_8w=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0OTcwNDc2","state":"COMMENTED","author":{"login":"xedin"},"comments":{"edges":[{"node":{"author":{"login":"xedin"},"body":"Sorry what I mean is example as-is type-checks correctly, it's not going to generate any fixes, and subsequently not going to trigger `getDeclRef()` code and crash."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQyMjoyODoyM1rOD15ZwQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQyMjoyODoyM1rOD15ZwQ=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA1MTQ5ODkw","state":"COMMENTED","author":{"login":"davezarzycki"},"comments":{"edges":[{"node":{"author":{"login":"davezarzycki"},"body":"The test case does not type check as is. Before this pull request:\r\n```\r\n/tmp/gt.swift:8:8: error: invalid redeclaration of 'G'\r\nstruct G<T:B> { var v : T }\r\n       ^\r\n/tmp/gt.swift:7:8: note: 'G' previously declared here\r\nstruct G<T:A> { var v : T }\r\n       ^\r\n/tmp/gt.swift:11:9: error: generic struct 'G' requires that 'Y' conform to 'A'\r\nlet b = G(v: Y())\r\n        ^\r\n/tmp/gt.swift:7:8: note: where 'T' = 'Y'\r\nstruct G<T:A> { var v : T }\r\n       ^\r\nswift: /home/dave/s/u/swift/lib/Sema/CSDiagnostics.cpp:149: swift::ValueDecl *swift::constraints::RequirementFailure::getDeclRef() const: Assertion `isa<TypeExpr>(AE->getFn())' failed.\r\n```"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOVQxMTowMDoxOFrOD2CcOA==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOVQxMTowMDoxOFrOD2CcOA=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA1NDM2Nzc5","state":"COMMENTED","author":{"login":"xedin"},"comments":{"edges":[{"node":{"author":{"login":"xedin"},"body":"Ah, sorry for the confusion, I've tried in REPL and it works differently there, would create two decls in different modules, that's why it type-checked just fine..."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOVQyMDozMzo1MVrOD2QWdQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOVQyMDozMzo1MVrOD2QWdQ=="}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xOVQyMDozMzo1MiswMDowMLkyMDE5LTAyLTE5VDIwOjMzOjUxKzAwOjAwzgw-t2s=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xOFQxOToyNjoyMyswMDowMLkyMDE5LTAyLTE4VDE5OjI2OjIyKzAwOjAwzgw29bg="}},"comments":{"edges":[{"node":{"author":{"login":"davezarzycki"},"body":"@swift-ci please smoke test and merge"}},{"node":{"author":{"login":"davezarzycki"},"body":"@swift-ci please smoke test linux"}},{"node":{"author":{"login":"davezarzycki"},"body":"@swift-ci please smoke test linux"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7ijhQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7NcaA=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzODE4Njk5","url":"https://github.com/apple/swift/pull/22687","author":{"login":"rxwei"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":3,"deletions":3,"changedFiles":1,"mergedAt":"2019-02-18T10:00:44Z","createdAt":"2019-02-18T08:13:12Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NjU5NzQw","state":"APPROVED","author":{"login":"dan-zheng"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xOFQwODoxNDoxOCswMDowMLkyMDE5LTAyLTE4VDA4OjE0OjE4KzAwOjAwzgwy3Bw=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xOFQwODoxNDoxOCswMDowMLkyMDE5LTAyLTE4VDA4OjE0OjE4KzAwOjAwzgwy3Bw="}},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"@swift-ci Please test tensorflow"}},{"node":{"author":{"login":"rxwei"},"body":"@swift-ci please test tensorflow macOS"}},{"node":{"author":{"login":"rxwei"},"body":"CI is dead. Tests passed locally. Merging."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7I-zw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7GvHg=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNzk4NDAx","url":"https://github.com/apple/swift/pull/22686","author":{"login":"brentdax"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":24,"deletions":0,"changedFiles":2,"mergedAt":"2019-02-18T23:03:57Z","createdAt":"2019-02-18T06:37:36Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"brentdax"},"body":"@swift-ci please smoke test"}},{"node":{"author":{"login":"brentdax"},"body":"@swift-ci please smoke test linux platform"}},{"node":{"author":{"login":"davidungar"},"body":"Thanks! Great idea!!\n\n- David\n\n> On Feb 18, 2019, at 12:24 AM, Brent Royal-Gordon <notifications@github.com> wrote:\n> \n> @swift-ci please smoke test linux platform\n> \n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub, or mute the thread.\n"}},{"node":{"author":{"login":"brentdax"},"body":"@swift-ci please smoke test linux"}},{"node":{"author":{"login":"brentdax"},"body":"@swift-ci please smoke test linux"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7WufA==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7FNGA=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNzczMzY1","url":"https://github.com/apple/swift/pull/22685","author":{"login":"dan-zheng"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":122,"deletions":42,"changedFiles":3,"mergedAt":"2019-02-18T07:32:31Z","createdAt":"2019-02-18T03:35:22Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NjEwODMx","state":"COMMENTED","author":{"login":"dan-zheng"},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"Sorry for the random change - I found this while investigating https://bugs.swift.org/browse/TF-246.\r\nI think propagation here is correct though."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQwMzozNjozOVrOD1nkqQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQwMzozNjozOVrOD1nkqQ=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NjIzNjky","state":"COMMENTED","author":{"login":"rxwei"},"comments":{"edges":[{"node":{"author":{"login":"rxwei"},"body":"Lines 4723-4736 should be moved to the `Vector` case. Other cases don't need these."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQwNToyMDo1MlrOD1oPvQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQwNToyMDo1MlrOD1oPvQ=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NjMwMDMy","state":"APPROVED","author":{"login":"rxwei"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NjMyMjM1","state":"COMMENTED","author":{"login":"dan-zheng"},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"Thank you! Done in https://github.com/apple/swift/pull/22685/commits/eccc98152f5909102d30e050806eb1c98ae2c2ac."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQwNjoxNTo0M1rOD1osGw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQwNjoxNTo0M1rOD1osGw=="}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xOFQwNjoxNTo0NCswMDowMLkyMDE5LTAyLTE4VDA2OjE1OjQzKzAwOjAwzgwycKs=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xOFQwMzozNjozOSswMDowMLkyMDE5LTAyLTE4VDAzOjM2OjM5KzAwOjAwzgwyHQ8="}},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"@swift-ci Please test tensorflow"}},{"node":{"author":{"login":"dan-zheng"},"body":"@swift-ci Please test tensorflow"}},{"node":{"author":{"login":"dan-zheng"},"body":"@swift-ci Please test tensorflow"}},{"node":{"author":{"login":"rxwei"},"body":"@swift-ci please test tensorflow Linux"}},{"node":{"author":{"login":"rxwei"},"body":"@swift-ci please test tensorflow Linux"}},{"node":{"author":{"login":"rxwei"},"body":"@swift-ci please test tensorflow Linux"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7Fopg==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7DKBA=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNzQzMDky","url":"https://github.com/apple/swift/pull/22684","author":{"login":"compnerd"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":28,"deletions":24,"changedFiles":10,"mergedAt":"2019-02-19T08:30:55Z","createdAt":"2019-02-17T21:56:26Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please test"}},{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please test and merge"}},{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please test and merge"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7dOGg==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6_08Q=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNzMwNjE0","url":"https://github.com/apple/swift/pull/22683","author":{"login":"compnerd"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":12,"deletions":1,"changedFiles":1,"mergedAt":"2019-02-18T23:16:44Z","createdAt":"2019-02-17T18:39:34Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please smoke test and merge"}},{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please smoke test Linux platform"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7Walw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6-ZtA=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNzMwMzkw","url":"https://github.com/apple/swift/pull/22682","author":{"login":"compnerd"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":4,"deletions":6,"changedFiles":1,"mergedAt":"2019-02-19T06:05:33Z","createdAt":"2019-02-17T18:35:54Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please smoke test and merge"}},{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please smoke test Linux platform"}},{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please smoke test Linux platform"}},{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please smoke test Linux Platform"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7a9VQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6-YDg=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNzI4MDQy","url":"https://github.com/apple/swift/pull/22681","author":{"login":"davezarzycki"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":117,"deletions":85,"changedFiles":1,"mergedAt":"2019-02-19T13:20:56Z","createdAt":"2019-02-17T17:58:19Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"davezarzycki"},"body":"@swift-ci please smoke test"}},{"node":{"author":{"login":"CodaFi"},"body":"Overall, looks good.  You're absolutely right that this is a twisty piece of work - enough that I suspect tightening things up like this may have closed off a few previously-accessible codepaths.  Once the smoke tests pass, I'd sleep better at night if you ran the full tests and the compatibility suite ✨"}},{"node":{"author":{"login":"davezarzycki"},"body":"@swift-ci please test platform\r\n@swift-ci please test source compatibility"}},{"node":{"author":{"login":"davezarzycki"},"body":"@swift-ci please smoke test linux"}},{"node":{"author":{"login":"davezarzycki"},"body":"@swift-ci please smoke test linux"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7ijKw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6-GqQ=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNzEzNzQy","url":"https://github.com/apple/swift/pull/22680","author":{"login":"rxwei"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":14,"deletions":9,"changedFiles":1,"mergedAt":"2019-02-17T17:05:34Z","createdAt":"2019-02-17T14:08:11Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NTYzMDcx","state":"APPROVED","author":{"login":"dan-zheng"},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"note: wrapping style in `Differentiable.cpp` is not consistent, I believe `clang-format` prefers the following:\r\n```cpp\r\nauto seedVal = builder.emitTupleExtract(\r\n    loc, adjointTuple, tupleExtract->getFieldNo());\r\n```\r\n\r\nNon-priority: I think it'd be nice to run `clang-format` on `Differentiation.cpp` (and accept minor undesirable format decisions) - it would save me minutes per day from thinking about formatting."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xN1QxNDoxMToxM1rOD1k5Ug==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xN1QxNDoxMToxM1rOD1k5Ug=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NTYzMzY0","state":"COMMENTED","author":{"login":"rxwei"},"comments":{"edges":[{"node":{"author":{"login":"rxwei"},"body":"How's this relevant to this patch? This is not even changing the original formatting. \r\n\r\nI'm not a fan of the auto-formatted code style. While I am not opposed to enforcing clang-format in this file, I'd very much prefer to defer this call."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xN1QxNDoxNzo0OVrOD1k9oQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xN1QxNDoxNzo0OVrOD1k9oQ=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NTYzNDQ4","state":"COMMENTED","author":{"login":"dan-zheng"},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"Just a side-comment, not relevant to the patch.\r\nAcknowledged, no auto-formatting is fine with me."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xN1QxNDoxOTo0MVrOD1k-Zw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xN1QxNDoxOTo0MVrOD1k-Zw=="}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xN1QxNDoxOTo0MSswMDowMLkyMDE5LTAyLTE3VDE0OjE5OjQxKzAwOjAwzgwxY_g=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xN1QxNDoxMjoxOSswMDowMLkyMDE5LTAyLTE3VDE0OjExOjEyKzAwOjAwzgwxYn8="}},"comments":{"edges":[{"node":{"author":{"login":"rxwei"},"body":"@swift-ci please test tensorflow"}},{"node":{"author":{"login":"dan-zheng"},"body":"Linux CI is stuck. Merging to unblock progress."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG69ujA==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG68n4Q=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNzEwNDc2","url":"https://github.com/apple/swift/pull/22679","author":{"login":"dan-zheng"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":77,"deletions":75,"changedFiles":3,"mergedAt":"2019-02-18T02:16:28Z","createdAt":"2019-02-17T13:12:42Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NTYxNDQw","state":"APPROVED","author":{"login":"rxwei"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NTkwMjcx","state":"COMMENTED","author":{"login":"rxwei"},"comments":{"edges":[{"node":{"author":{"login":"rxwei"},"body":"This should be changed to `destroy_addr`, not be deleted."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQwMDoyNjo0MlrOD1mhwQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQwMDoyNjo0MlrOD1mhwQ=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NTkwNjky","state":"COMMENTED","author":{"login":"dan-zheng"},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"Ah yes, thanks for the catch! I'll correct this in my next PR."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQwMDozMzoyNFrOD1mjHQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQwMDozMzoyNFrOD1mjHQ=="}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xOFQwMDozMzoyNCswMDowMLkyMDE5LTAyLTE4VDAwOjMzOjI0KzAwOjAwzgwxzmQ=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xN1QxMzozMDozOSswMDowMLkyMDE5LTAyLTE3VDEzOjMwOjM5KzAwOjAwzgwxXCA="}},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"This PR depends on https://github.com/apple/swift/pull/22678; please rebase/test after https://github.com/apple/swift/pull/22678 is merged.\r\nNew changes start from this commit: https://github.com/apple/swift/pull/22679/commits/bb8e5d3ff871dfce12024822f46fe4f1b90899b0"}},{"node":{"author":{"login":"dan-zheng"},"body":"@swift-ci Please clean test tensorflow"}},{"node":{"author":{"login":"dan-zheng"},"body":"@swift-ci Please clean test tensorflow"}},{"node":{"author":{"login":"dan-zheng"},"body":"Linux CI is stuck. Merging to unblock progress."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7CMxg==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG68H4w=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNzA5MDkw","url":"https://github.com/apple/swift/pull/22678","author":{"login":"dan-zheng"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":105,"deletions":23,"changedFiles":2,"mergedAt":"2019-02-17T14:13:19Z","createdAt":"2019-02-17T12:47:53Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NTU5ODE1","state":"APPROVED","author":{"login":"rxwei"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xN1QxMjo1MToyNyswMDowMLkyMDE5LTAyLTE3VDEyOjUxOjI3KzAwOjAwzgwxVcc=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xN1QxMjo1MToyNyswMDowMLkyMDE5LTAyLTE3VDEyOjUxOjI3KzAwOjAwzgwxVcc="}},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"@swift-ci Please test tensorflow"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG67-7A==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG67-7A=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNzA4NzUx","url":"https://github.com/apple/swift/pull/22677","author":{"login":"davezarzycki"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":1,"deletions":0,"changedFiles":1,"mergedAt":"2019-02-19T10:57:15Z","createdAt":"2019-02-17T12:41:23Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"davezarzycki"},"body":"@swift-ci please smoke test and merge"}},{"node":{"author":{"login":"davezarzycki"},"body":"@swift-ci please smoke test linux"}},{"node":{"author":{"login":"compnerd"},"body":"The Foundation tests have been broken for ~1.5 days :-("}},{"node":{"author":{"login":"davezarzycki"},"body":"@swift-ci please smoke test linux"}},{"node":{"author":{"login":"davezarzycki"},"body":"@swift-ci please smoke test linux"}},{"node":{"author":{"login":"davezarzycki"},"body":"@swift-ci please smoke test linux"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7Zi0A==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG676mQ=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNzAzMTE1","url":"https://github.com/apple/swift/pull/22676","author":{"login":"rxwei"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":3,"deletions":0,"changedFiles":1,"mergedAt":"2019-02-19T21:59:12Z","createdAt":"2019-02-17T10:48:55Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NTcyMjkz","state":"APPROVED","author":{"login":"compnerd"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA1NDA2ODQ3","state":"APPROVED","author":{"login":"slavapestov"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xOVQxOToyNzozMiswMDowMLkyMDE5LTAyLTE5VDE5OjI3OjMyKzAwOjAwzgw-Qn8=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xN1QxNzo1MjozMiswMDowMLkyMDE5LTAyLTE3VDE3OjUyOjMyKzAwOjAwzgwxhoU="}},"comments":{"edges":[{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please smoke test"}},{"node":{"author":{"login":"rxwei"},"body":"@swift-ci please smoke test and merge"}},{"node":{"author":{"login":"rxwei"},"body":"@swift-ci please smoke test and merge"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7wB_g==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6-EAw=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNjk3MDA2","url":"https://github.com/apple/swift/pull/22675","author":{"login":"rxwei"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":115,"deletions":205,"changedFiles":15,"mergedAt":"2019-02-18T09:10:56Z","createdAt":"2019-02-17T08:46:33Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"rxwei"},"body":"@swift-ci please test tensorflow"}},{"node":{"author":{"login":"dan-zheng"},"body":"@rxwei: PTAL.\r\n\r\nSR-9595 workaround is complete, with the addition of another `__Differentiable` underscored protocol. All tests pass. I removed all old `TangentVector : AdditiveArithmetic` workarounds in tests."}},{"node":{"author":{"login":"rxwei"},"body":"Thanks!"}},{"node":{"author":{"login":"rxwei"},"body":"@swift-ci please test tensorflow macOS"}},{"node":{"author":{"login":"rxwei"},"body":"@swift-ci please test tensorflow macOS"}},{"node":{"author":{"login":"rxwei"},"body":"CI is down. All tests passed locally. Merging."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7H3kQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7Cn_g=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNjg4ODAw","url":"https://github.com/apple/swift/pull/22674","author":{"login":"compnerd"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":11,"deletions":9,"changedFiles":1,"mergedAt":"2019-02-19T16:00:31Z","createdAt":"2019-02-17T05:25:20Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"millenomi"},"body":"@swift-ci please test"}},{"node":{"author":{"login":"swift-ci"},"body":"**Build failed**\n[Swift Test Linux Platform](https://ci.swift.org/job/swift-PR-Linux/11127/)\nGit Sha - 3ec6e12520bf9491de5675bd22a49f968027ef3f\n"}},{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please test Linux platform"}},{"node":{"author":{"login":"swift-ci"},"body":"**Build failed**\n[Swift Test Linux Platform](https://ci.swift.org/job/swift-PR-Linux/11139/)\nGit Sha - 3ec6e12520bf9491de5675bd22a49f968027ef3f\n"}},{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please test Linux platform"}},{"node":{"author":{"login":"swift-ci"},"body":"**Build failed**\n[Swift Test Linux Platform](https://ci.swift.org/job/swift-PR-Linux/11149/)\nGit Sha - 3ec6e12520bf9491de5675bd22a49f968027ef3f\n"}},{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please test Linux platform"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7dNLw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6557g=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNjcyNDA5","url":"https://github.com/apple/swift/pull/22672","author":{"login":"compnerd"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":2,"deletions":4,"changedFiles":1,"mergedAt":"2019-02-18T23:17:50Z","createdAt":"2019-02-16T22:26:44Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please smoke test and merge"}},{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please smoke test Linux platform"}},{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please smoke test Linux platform"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7WrIQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG64UZA=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNjcyMTkx","url":"https://github.com/apple/swift/pull/22671","author":{"login":"compnerd"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":10,"deletions":0,"changedFiles":1,"mergedAt":"2019-02-19T15:45:40Z","createdAt":"2019-02-16T22:22:22Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please smoke test and merge"}},{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please smoke test Linux platform"}},{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please smoke test Linux platform"}},{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please smoke test Linux platform"}},{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please smoke test Linux platform"}},{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please smoke test Linux platform"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7dMbw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG64Ssw=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNjU5NDc5","url":"https://github.com/apple/swift/pull/22670","author":{"login":"compnerd"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":2,"deletions":2,"changedFiles":1,"mergedAt":"2019-02-18T23:18:45Z","createdAt":"2019-02-16T18:31:27Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please test and merge"}},{"node":{"author":{"login":"compnerd"},"body":"@swift-ci please smoke test Linux platform"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7WrrQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG625mw=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNjM4NDE3","url":"https://github.com/apple/swift/pull/22669","author":{"login":"dan-zheng"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":275,"deletions":45,"changedFiles":3,"mergedAt":"2019-02-17T07:49:34Z","createdAt":"2019-02-16T11:58:04Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NTE2ODU3","state":"COMMENTED","author":{"login":"dan-zheng"},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"I didn't change the names of `StructExtractDifferentiationStrategy` or `getStructExtractDifferentiationStrategies` because I couldn't think of anything more suitable."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQxMTo1ODo1NVrOD1h_Zg==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQxMTo1ODo1NVrOD1h_Zg=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NTE3MTIz","state":"COMMENTED","author":{"login":"dan-zheng"},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"I should probably change `pullbackResultBuf` to a `ValueWithCleanup` using `emitCleanup` and do cleanup before `builder.createDeallocStack(loc, pullbackResultBuf);`.\r\n\r\n@rxwei: could you please confirm?"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQxMjowNzo1NlrOD1iAuA==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQxMjowNzo1NlrOD1iAuA=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NTE3MDkx","state":"APPROVED","author":{"login":"rxwei"},"comments":{"edges":[{"node":{"author":{"login":"rxwei"},"body":"```suggestion\r\n      builder.createDeallocStack(loc, pullbackResultBuf);\r\n```\r\nPlease release any pullback call's indirect results, since they are immediately accumulated into another buffer."}},{"node":{"author":{"login":"rxwei"},"body":"```suggestion\r\n          /*fromBuiltin*/ false);\r\n```"}},{"node":{"author":{"login":"rxwei"},"body":"```suggestion\r\n          loc, pullback, {pullbackResultBuf, adjElt},\r\n```"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQxMjoxMzowNFrOD1iBRg==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQxMjowNjo0MFrOD1iAlw=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NTE3Mzk2","state":"COMMENTED","author":{"login":"rxwei"},"comments":{"edges":[{"node":{"author":{"login":"rxwei"},"body":"There's no reason to create a cleanup, because the pullback's indirect result is strictly local to the visitor. Just `emitCleanup`."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQxMjoxODowOVrOD1iBvg==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQxMjoxODowOVrOD1iBvg=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NTE3NTg3","state":"COMMENTED","author":{"login":"dan-zheng"},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"Done in https://github.com/apple/swift/pull/22669/commits/25f16291c2e794966aca760347523b4862acd80b, I believe, by calling `emitCleanup` on `pullbackResultBuf`.\r\nThere's an assertion that `pullbackResultBuf` is the only indirect result of the pullback call."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQxMjoyNDoyNFrOD1iCsA==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQxMjoyNDoyNFrOD1iCsA=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NTE3NjIz","state":"COMMENTED","author":{"login":"rxwei"},"comments":{"edges":[{"node":{"author":{"login":"rxwei"},"body":"Yes, it should be the only result. Getters are simple."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQxMjoyNTo1MVrOD1iCzw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQxMjoyNTo1MVrOD1iCzw=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NTE3NjQ4","state":"COMMENTED","author":{"login":"dan-zheng"},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"Done in https://github.com/apple/swift/pull/22669/commits/9b80f4a605fcde05ad0ea8341892549982c82ba8. Empty `SubstitutionMap` removed in other places, too."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQxMjoyNzowMVrOD1iC6A==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQxMjoyNzowMVrOD1iC6A=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NTE3NjUz","state":"COMMENTED","author":{"login":"dan-zheng"},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"Done in https://github.com/apple/swift/pull/22669/commits/9b80f4a605fcde05ad0ea8341892549982c82ba8."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQxMjoyNzowOFrOD1iC6w==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQxMjoyNzowOFrOD1iC6w=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NTE3Njcx","state":"COMMENTED","author":{"login":"dan-zheng"},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"Thanks! Done in https://github.com/apple/swift/pull/22669/commits/9b80f4a605fcde05ad0ea8341892549982c82ba8."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQxMjoyNzo0NlrOD1iC9Q==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQxMjoyNzo0NlrOD1iC9Q=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NTQ0MjI2","state":"COMMENTED","author":{"login":"dan-zheng"},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"Note: I think it's now wrong to always initialize `destAccess` with ` SILAccessKind::Modify`. `SILAccessKind::Init` should be used if `destBuffer` hasn't been initialized before.\r\n\r\n(Previously, `Modify` was correct because `begin_access` was created on the output of `getAdjointBuffer(originalBuffer)`, which initializes adjoint buffers to zero and calls  `begin_access [init]`.)\r\n\r\nI believe we can detect whether to use `Init` or `Modify` by checking if there exists a use of `destBuffer` that is a `begin_access [init]`.\r\n\r\n@rxwei: what are your thoughts?"}},{"node":{"author":{"login":"dan-zheng"},"body":"I wonder if there's a better name than `addToAdjointBuffer`?\r\nThe name is not ideal because `destBuffer` may not in fact be an \"adjoint buffer\" (i.e. something stored in `AdjointEmitter::bufferMap`).\r\n\r\nA more accurate name would be like \"add to buffer in adjoint function\". Another idea is to remove `addToAdjointBuffer` now that it simply forwards `accumulateIndirect` - but I would like to keep the function if it can be implemented with correct semantics, because it reduces caller boilerplate.\r\n\r\n@rxwei: what are your thoughts?"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xN1QwMzo1MjoyN1rOD1jwgg==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xN1QwMzo0NzozNlrOD1jwEw=="}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xN1QwMzo1MjozMSswMDowMLkyMDE5LTAyLTE3VDAzOjQ3OjM2KzAwOjAwzgwxGOI=","hasNextPage":true,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNlQxMTo1OTo1MSswMDowMLkyMDE5LTAyLTE2VDExOjU4OjU1KzAwOjAwzgwwrfk="}},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"@swift-ci Please test tensorflow"}},{"node":{"author":{"login":"dan-zheng"},"body":"@swift-ci Please test tensorflow"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG66HpQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG61Ptw=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNjMxNzAx","url":"https://github.com/apple/swift/pull/22668","author":{"login":"rxwei"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":24,"deletions":27,"changedFiles":2,"mergedAt":"2019-02-16T10:17:01Z","createdAt":"2019-02-16T09:23:30Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NTEzMTIy","state":"APPROVED","author":{"login":"dan-zheng"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNlQwOToyNDozNyswMDowMLkyMDE5LTAyLTE2VDA5OjI0OjM3KzAwOjAwzgwwn2I=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNlQwOToyNDozNyswMDowMLkyMDE5LTAyLTE2VDA5OjI0OjM3KzAwOjAwzgwwn2I="}},"comments":{"edges":[{"node":{"author":{"login":"rxwei"},"body":"@swift-ci please test tensorflow"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG60CQA==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG60CQA=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNjI3Nzkx","url":"https://github.com/apple/swift/pull/22667","author":{"login":"rxwei"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":35,"deletions":108,"changedFiles":1,"mergedAt":"2019-02-16T09:03:56Z","createdAt":"2019-02-16T07:50:10Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NTEwNjI1","state":"APPROVED","author":{"login":"dan-zheng"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNlQwNzo1NDoyOCswMDowMLkyMDE5LTAyLTE2VDA3OjUzOjI1KzAwOjAwzgwwlaE=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNlQwNzo1NDoyOCswMDowMLkyMDE5LTAyLTE2VDA3OjUzOjI1KzAwOjAwzgwwlaE="}},"comments":{"edges":[{"node":{"author":{"login":"rxwei"},"body":"@swift-ci please test tensorflow"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6zKWQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6zKWQ=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNjE0ODYy","url":"https://github.com/apple/swift/pull/22665","author":{"login":"slavapestov"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":4,"deletions":136,"changedFiles":7,"mergedAt":"2019-02-18T22:49:27Z","createdAt":"2019-02-16T02:52:18Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NTIxMDkw","state":"COMMENTED","author":{"login":"aroben"},"comments":{"edges":[{"node":{"author":{"login":"aroben"},"body":"Looks like 7 is unused? Or maybe I’m misreading."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQxNDoxNzowN1rOD1iQtg==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQxNDoxNzowN1rOD1iQtg=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0OTU1NjE3","state":"COMMENTED","author":{"login":"slavapestov"},"comments":{"edges":[{"node":{"author":{"login":"slavapestov"},"body":"You’re absolutely right."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQyMToxOTowNlrOD14qAA==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xOFQyMToxOTowNlrOD14qAA=="}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xOFQyMToxOTowNiswMDowMLkyMDE5LTAyLTE4VDIxOjE5OjA2KzAwOjAwzgw3X-E=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNlQxNDoxNzoyMCswMDowMLkyMDE5LTAyLTE2VDE0OjE3OjA3KzAwOjAwzgwwvoI="}},"comments":{"edges":[{"node":{"author":{"login":"slavapestov"},"body":"@swift-ci Please smoke test"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7W1zg==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG7W1zg=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNjEyNzcx","url":"https://github.com/apple/swift/pull/22664","author":{"login":"slavapestov"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":79,"deletions":11,"changedFiles":13,"mergedAt":"2019-02-19T03:36:57Z","createdAt":"2019-02-16T02:15:04Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NTAwNDY1","state":"COMMENTED","author":{"login":"brentdax"},"comments":{"edges":[{"node":{"author":{"login":"brentdax"},"body":"You'll need to bump SWIFTMODULE_VERSION_MINOR, right?"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQwMjoyNDoxOFrOD1hALQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQwMjoyNDoxOFrOD1hALQ=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NTAxNTAw","state":"COMMENTED","author":{"login":"slavapestov"},"comments":{"edges":[{"node":{"author":{"login":"slavapestov"},"body":"You're right -- thanks!"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQwMjo0NzowNlrOD1hDqg==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQwMjo0NzowNlrOD1hDqg=="}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNlQwMjo0NzowNyswMDowMLkyMDE5LTAyLTE2VDAyOjQ3OjA2KzAwOjAwzgwwcfw=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNlQwMjoyNDoxOCswMDowMLkyMDE5LTAyLTE2VDAyOjI0OjE4KzAwOjAwzgwwbfE="}},"comments":{"edges":[{"node":{"author":{"login":"slavapestov"},"body":"@swift-ci Please smoke test"}},{"node":{"author":{"login":"slavapestov"},"body":"@swift-ci Please smoke test"}},{"node":{"author":{"login":"slavapestov"},"body":"@swift-ci Please smoke test"}},{"node":{"author":{"login":"slavapestov"},"body":"@swift-ci Please smoke test"}},{"node":{"author":{"login":"slavapestov"},"body":"@swift-ci Please smoke test Linux"}},{"node":{"author":{"login":"slavapestov"},"body":"@swift-ci Please smoke test Linux"}},{"node":{"author":{"login":"milseman"},"body":"So this is more than just always emitting it into the client, it's also dropping it from the library, correct?"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7tmlg==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6xC_Q=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNjA2NzY2","url":"https://github.com/apple/swift/pull/22663","author":{"login":"milseman"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":44,"deletions":2,"changedFiles":3,"mergedAt":"2019-02-19T18:52:05Z","createdAt":"2019-02-16T01:02:26Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0OTc0MTEy","state":"APPROVED","author":{"login":"lorentey"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xOFQyMjo0NzoyOCswMDowMLkyMDE5LTAyLTE4VDIyOjQ3OjI4KzAwOjAwzgw3qCA=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xOFQyMjo0NzoyOCswMDowMLkyMDE5LTAyLTE4VDIyOjQ3OjI4KzAwOjAwzgw3qCA="}},"comments":{"edges":[{"node":{"author":{"login":"milseman"},"body":"@swift-ci please test"}},{"node":{"author":{"login":"milseman"},"body":"@swift-ci please benchmark"}},{"node":{"author":{"login":"swift-ci"},"body":"### Performance: -O\n\nTEST                            | OLD | NEW | DELTA | RATIO     \n---                             | --- | --- | ---   | ---       \n**Improvement**                 |     |     |       |           \nInsertCharacterEndIndexNonASCII | 56  | 52  | -7.1% | **1.08x (?)** \n\n### Code size: -O\n\nTEST        | OLD   | NEW   | DELTA | RATIO   \n---         | ---   | ---   | ---   | ---     \n**Regression** |       |       |       |         \nWordCount.o | 44347 | 45195 | +1.9% | **0.98x** \n\n### Performance: -Osize\n\nTEST                              | OLD   | NEW   | DELTA  | RATIO     \n---                               | ---   | ---   | ---    | ---       \n**Regression**                    |       |       |        |           \nNopDeinit                         | 40000 | 47900 | +19.7% | **0.84x** \nObjectiveCBridgeStubFromNSDateRef | 3660  | 3970  | +8.5%  | **0.92x (?)** \n\n### Code size: -Osize\n\nTEST        | OLD   | NEW   | DELTA | RATIO   \n---         | ---   | ---   | ---   | ---     \n**Regression** |       |       |       |         \nWordCount.o | 39580 | 40876 | +3.3% | **0.97x** \n\n### Performance: -Onone\n\nTEST                        | OLD   | NEW   | DELTA | RATIO     \n---                         | ---   | ---   | ---   | ---       \n**Regression**              |       |       |       |           \nStringUTF16SubstringBuilder | 17900 | 19470 | +8.8% | **0.92x (?)** \n**Improvement**             |       |       |       |           \nArrayOfPOD                  | 762   | 692   | -9.2% | **1.10x** \n\n\n<details>\n  <summary><strong>How to read the data</strong></summary>\nThe tables contain differences in performance which are larger than 8% and\ndifferences in code size which are larger than 1%.\n\nIf you see any unexpected regressions, you should consider fixing the\nregressions before you merge the PR.\n\n**Noise**: Sometimes the performance results (not code size!) contain false\nalarms. Unexpected regressions which are marked with '(?)' are probably noise.\nIf you see regressions which you cannot explain you can try to run the\nbenchmarks again. If regressions still show up, please consult with the\nperformance team (@eeckstein).\n</details>\n\n<details>\n  <summary><strong>Hardware Overview</strong></summary>\n\n      Model Name: Mac Pro\n      Model Identifier: MacPro6,1\n      Processor Name: 8-Core Intel Xeon E5\n      Processor Speed: 3 GHz\n      Number of Processors: 1\n      Total Number of Cores: 8\n      L2 Cache (per Core): 256 KB\n      L3 Cache: 25 MB\n      Memory: 16 GB\n\n</details>"}},{"node":{"author":{"login":"swift-ci"},"body":"**Build failed**\n[Swift Test Linux Platform](https://ci.swift.org/job/swift-PR-Linux/11111/)\nGit Sha - 83e1137e21b0580554ae70f291f895c9c1c2cf6d\n"}},{"node":{"author":{"login":"milseman"},"body":"@swift-ci please test linux platform"}},{"node":{"author":{"login":"milseman"},"body":"@swift-ci please test linux platform"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7XxUA==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6wkew=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNTk4NTQ1","url":"https://github.com/apple/swift/pull/22661","author":{"login":"bob-wilson"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":1,"deletions":1,"changedFiles":1,"mergedAt":"2019-02-15T23:56:00Z","createdAt":"2019-02-15T23:55:53Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNTk0ODU2","url":"https://github.com/apple/swift/pull/22660","author":{"login":"brentdax"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":81,"deletions":0,"changedFiles":1,"mergedAt":"2019-02-19T02:28:02Z","createdAt":"2019-02-15T23:32:21Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NDgyMzAy","state":"COMMENTED","author":{"login":"slavapestov"},"comments":{"edges":[{"node":{"author":{"login":"slavapestov"},"body":"Can you fill this in properly? You should be able to find the pattern elsewhere in the file and copy it here."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQyMzo0Mzo1NVrOD1gDRw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQyMzo0Mzo1NVrOD1gDRw=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NDg1Mzcw","state":"COMMENTED","author":{"login":"brentdax"},"comments":{"edges":[{"node":{"author":{"login":"brentdax"},"body":"Sure; doing it this way was probably too cute."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQwMDowMDowMFrOD1gNsw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQwMDowMDowMFrOD1gNsw=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NDk0MTMw","state":"COMMENTED","author":{"login":"slavapestov"},"comments":{"edges":[{"node":{"author":{"login":"slavapestov"},"body":"i64 should be [[INT]]"}},{"node":{"author":{"login":"slavapestov"},"body":"Same here"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQwMTowMjoyOVrOD1grWw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQwMTowMjoyNVrOD1grVA=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NTMwNTYw","state":"COMMENTED","author":{"login":"brentdax"},"comments":{"edges":[{"node":{"author":{"login":"brentdax"},"body":"@slavapestov I was worried this might happen—this instruction isn't emitted on 32-bit architectures. If I don't try to match it, I can't follow the value all the way to the `ret` instruction. Should I cut off the test and assume the value will be used if it's read? Do something with `--check-prefix`? Use some secret FileCheck technique I'm unaware of?"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQxODo1OTo0M1rOD1i3Cw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQxODo1OTo0M1rOD1i3Cw=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA1MDAzMjgw","state":"APPROVED","author":{"login":"slavapestov"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xOVQwMjowNzozMCswMDowMLkyMDE5LTAyLTE5VDAyOjA3OjMwKzAwOjAwzgw4GhA=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNVQyMzo1MToyNSswMDowMLkyMDE5LTAyLTE1VDIzOjQzOjU1KzAwOjAwzgwwJv4="}},"comments":{"edges":[{"node":{"author":{"login":"brentdax"},"body":"@swift-ci please test"}},{"node":{"author":{"login":"swift-ci"},"body":"**Build failed**\n[Swift Test Linux Platform](https://ci.swift.org/job/swift-PR-Linux/11109/)\nGit Sha - b7047d5e454ff215907ffb403f3a6c227072e6a1\n"}},{"node":{"author":{"login":"brentdax"},"body":"@slavapestov This one better?"}},{"node":{"author":{"login":"swift-ci"},"body":"**Build failed**\n[Swift Test OS X Platform](https://ci.swift.org/job/swift-PR-osx/11087/)\nGit Sha - b7047d5e454ff215907ffb403f3a6c227072e6a1\n"}},{"node":{"author":{"login":"brentdax"},"body":"@swift-ci please test"}},{"node":{"author":{"login":"swift-ci"},"body":"**Build failed**\n[Swift Test Linux Platform](https://ci.swift.org/job/swift-PR-Linux/11117/)\nGit Sha - b7047d5e454ff215907ffb403f3a6c227072e6a1\n"}},{"node":{"author":{"login":"swift-ci"},"body":"**Build failed**\n[Swift Test OS X Platform](https://ci.swift.org/job/swift-PR-osx/11095/)\nGit Sha - 6c423b3a938de7d93e972c341a9c2addbb24ef42\n"}},{"node":{"author":{"login":"brentdax"},"body":"@swift-ci please test"}},{"node":{"author":{"login":"swift-ci"},"body":"**Build failed**\n[Swift Test Linux Platform](https://ci.swift.org/job/swift-PR-Linux/11121/)\nGit Sha - e9c29ee8a79fecf75aaa25a2da5f357e6abedf0c\n"}},{"node":{"author":{"login":"swift-ci"},"body":"**Build failed**\n[Swift Test OS X Platform](https://ci.swift.org/job/swift-PR-osx/11100/)\nGit Sha - e9c29ee8a79fecf75aaa25a2da5f357e6abedf0c\n"}},{"node":{"author":{"login":"brentdax"},"body":"@swift-ci please test"}},{"node":{"author":{"login":"swift-ci"},"body":"**Build failed**\n[Swift Test Linux Platform](https://ci.swift.org/job/swift-PR-Linux/11141/)\nGit Sha - 4e2d3f3cc7c100a6dcaf07ca86f6e40b89b64196\n"}},{"node":{"author":{"login":"brentdax"},"body":"Linux failure is unrelated to this test."}},{"node":{"author":{"login":"brentdax"},"body":"@swift-ci please smoke test linux platform"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7Yz6Q==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6vY7g=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNTgxNDEy","url":"https://github.com/apple/swift/pull/22659","author":{"login":"DougGregor"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":33,"deletions":60,"changedFiles":13,"mergedAt":"2019-02-16T04:27:00Z","createdAt":"2019-02-15T22:20:28Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"DougGregor"},"body":"@swift-ci please test"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6uClQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6uClQ=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNTc3MTA0","url":"https://github.com/apple/swift/pull/22658","author":{"login":"mikeash"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":6,"deletions":0,"changedFiles":2,"mergedAt":"2019-02-18T15:14:02Z","createdAt":"2019-02-15T22:02:28Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"mikeash"},"body":"@swift-ci please test"}},{"node":{"author":{"login":"mikeash"},"body":"I don't think there's any technical reason they need to be the same, but I think it would be good just for the sake of consistency."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7PpnA==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6tw1Q=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNTczODc2","url":"https://github.com/apple/swift/pull/22657","author":{"login":"slavapestov"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":17,"deletions":12,"changedFiles":6,"mergedAt":"2019-02-18T21:57:26Z","createdAt":"2019-02-15T21:49:09Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"slavapestov"},"body":"@swift-ci Please smoke test"}},{"node":{"author":{"login":"slavapestov"},"body":"@swift-ci Please smoke test"}},{"node":{"author":{"login":"slavapestov"},"body":"@swift-ci Please smoke test Linux"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7WNJw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6xBnQ=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNTczMzM4","url":"https://github.com/apple/swift/pull/22656","author":{"login":"bob-wilson"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":1,"deletions":1,"changedFiles":1,"mergedAt":"2019-02-15T21:47:41Z","createdAt":"2019-02-15T21:46:59Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNTcxOTI1","url":"https://github.com/apple/swift/pull/22655","author":{"login":"eeckstein"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":492,"deletions":310,"changedFiles":18,"mergedAt":"2019-02-18T16:56:55Z","createdAt":"2019-02-15T21:41:18Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NDY2MzY1","state":"COMMENTED","author":{"login":"jckarter"},"comments":{"edges":[{"node":{"author":{"login":"jckarter"},"body":"Would LLVM's DEBUG(...) macros work from the runtime?"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQyMjozMToyMVrOD1fOOw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQyMjozMToyMVrOD1fOOw=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NDc5NjY2","state":"COMMENTED","author":{"login":"eeckstein"},"comments":{"edges":[{"node":{"author":{"login":"eeckstein"},"body":"I didn't try, but we are not linking llvm to the runtime"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQyMzoyOTo1M1rOD1f6cw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQyMzoyOTo1M1rOD1f6cw=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NTI1NTA2","state":"APPROVED","author":{"login":"jckarter"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNlQxNjozNTo0OSswMDowMLkyMDE5LTAyLTE2VDE2OjM1OjQ5KzAwOjAwzgwwz8I=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNVQyMjozMToyMiswMDowMLkyMDE5LTAyLTE1VDIyOjMxOjIxKzAwOjAwzgwv6L0="}},"comments":{"edges":[{"node":{"author":{"login":"eeckstein"},"body":"@swift-ci test"}},{"node":{"author":{"login":"eeckstein"},"body":"@swift-ci benchmark"}},{"node":{"author":{"login":"swift-ci"},"body":"### Performance: -O\n\nTEST                                | OLD  | NEW  | DELTA  | RATIO     \n---                                 | ---  | ---  | ---    | ---       \n**Regression**                      |      |      |        |           \nStringAdder                         | 427  | 470  | +10.1% | **0.91x (?)** \nStringBuilderSmallReservingCapacity | 350  | 381  | +8.9%  | **0.92x (?)** \n**Improvement**                     |      |      |        |           \nSortStringsUnicode                  | 3565 | 3315 | -7.0%  | **1.08x (?)** \n\n### Performance: -Osize\n\nTEST                                | OLD  | NEW  | DELTA  | RATIO     \n---                                 | ---  | ---  | ---    | ---       \n**Regression**                      |      |      |        |           \nStringBuilder                       | 327  | 370  | +13.1% | **0.88x** \nStringBuilderSmallReservingCapacity | 341  | 382  | +12.0% | **0.89x (?)** \n**Improvement**                     |      |      |        |           \nSortStringsUnicode                  | 3560 | 3310 | -7.0%  | **1.08x (?)** \n\n### Performance: -Onone\n\nTEST               | OLD  | NEW  | DELTA | RATIO     \n---                | ---  | ---  | ---   | ---       \n**Regression**     |      |      |       |           \nStrComplexWalk     | 6680 | 7330 | +9.7% | **0.91x (?)** \n**Improvement**    |      |      |       |           \nArrayOfGenericPOD2 | 1179 | 1065 | -9.7% | **1.11x (?)** \nArrayOfPOD         | 855  | 775  | -9.4% | **1.10x (?)** \nDictionary3        | 759  | 704  | -7.2% | **1.08x (?)** \nSortStringsUnicode | 5205 | 4840 | -7.0% | **1.08x (?)** \n\n### Code size: -swiftlibs\n\nTEST                       | OLD    | NEW    | DELTA | RATIO   \n---                        | ---    | ---    | ---   | ---     \n**Regression**             |        |        |       |         \nlibswiftRemoteMirror.dylib | 364544 | 368640 | +1.1% | **0.99x** \n\n\n<details>\n  <summary><strong>How to read the data</strong></summary>\nThe tables contain differences in performance which are larger than 8% and\ndifferences in code size which are larger than 1%.\n\nIf you see any unexpected regressions, you should consider fixing the\nregressions before you merge the PR.\n\n**Noise**: Sometimes the performance results (not code size!) contain false\nalarms. Unexpected regressions which are marked with '(?)' are probably noise.\nIf you see regressions which you cannot explain you can try to run the\nbenchmarks again. If regressions still show up, please consult with the\nperformance team (@eeckstein).\n</details>\n\n<details>\n  <summary><strong>Hardware Overview</strong></summary>\n\n      Model Name: Mac Pro\n      Model Identifier: MacPro6,1\n      Processor Name: 12-Core Intel Xeon E5\n      Processor Speed: 2.7 GHz\n      Number of Processors: 1\n      Total Number of Cores: 12\n      L2 Cache (per Core): 256 KB\n      L3 Cache: 30 MB\n      Memory: 64 GB\n\n</details>"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6uN5w==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6tPMw=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNTUzMjk2","url":"https://github.com/apple/swift/pull/22654","author":{"login":"nkcsgexi"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":34,"deletions":0,"changedFiles":4,"mergedAt":"2019-02-16T01:32:08Z","createdAt":"2019-02-15T20:29:00Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"nkcsgexi"},"body":"@swift-ci please test"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6r0Uw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6r0Uw=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNTI2MzQz","url":"https://github.com/apple/swift/pull/22653","author":{"login":"benlangmuir"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":6,"deletions":3,"changedFiles":1,"mergedAt":"2019-02-15T21:15:36Z","createdAt":"2019-02-15T18:46:04Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"benlangmuir"},"body":"@swift-ci please smoke test"}},{"node":{"author":{"login":"benlangmuir"},"body":"@swift-ci please smoke test"}},{"node":{"author":{"login":"jckarter"},"body":"Would it be overly clever to shell out to the native `diff` program if one is present?"}},{"node":{"author":{"login":"benlangmuir"},"body":"@harlanhaskins mentioned that we switched away from `diff` because of Windows"}},{"node":{"author":{"login":"benlangmuir"},"body":"Otherwsie, no that would be completely reasonable IMO."}},{"node":{"author":{"login":"jckarter"},"body":"Sure, hence the \"if one is present\"."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6wkxw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6p4wA=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNTE4NDI5","url":"https://github.com/apple/swift/pull/22652","author":{"login":"dan-zheng"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":102,"deletions":28,"changedFiles":9,"mergedAt":"2019-02-15T21:34:38Z","createdAt":"2019-02-15T18:14:51Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NDA4MjEz","state":"APPROVED","author":{"login":"rxwei"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNVQxOTo0MTozNCswMDowMLkyMDE5LTAyLTE1VDE5OjQxOjM0KzAwOjAwzgwvBZU=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNVQxOTo0MTozNCswMDowMLkyMDE5LTAyLTE1VDE5OjQxOjM0KzAwOjAwzgwvBZU="}},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"@swift-ci Please test tensorflow"}},{"node":{"author":{"login":"dan-zheng"},"body":"@swift-ci Please test tensorflow"}},{"node":{"author":{"login":"dan-zheng"},"body":"@swift-ci Please test tensorflow"}},{"node":{"author":{"login":"dan-zheng"},"body":"@swift-ci Please test tensorflow macOS"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6r4zw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6pSJQ=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNDkyMzY5","url":"https://github.com/apple/swift/pull/22651","author":{"login":"davezarzycki"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":20,"deletions":2,"changedFiles":5,"mergedAt":"2019-02-16T11:33:48Z","createdAt":"2019-02-15T16:43:09Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NDkzMTEz","state":"APPROVED","author":{"login":"compnerd"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNlQwMDo1MzoyMyswMDowMLkyMDE5LTAyLTE2VDAwOjUzOjIzKzAwOjAwzgwwUTk=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNlQwMDo1MzoyMyswMDowMLkyMDE5LTAyLTE2VDAwOjUzOjIzKzAwOjAwzgwwUTk="}},"comments":{"edges":[{"node":{"author":{"login":"davezarzycki"},"body":"@swift-ci please smoke test"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6ndgw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6ndgw=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzNDg3NTM0","url":"https://github.com/apple/swift/pull/22650","author":{"login":"benlangmuir"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":0,"deletions":34,"changedFiles":4,"mergedAt":"2019-02-15T17:28:01Z","createdAt":"2019-02-15T16:28:48Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"benlangmuir"},"body":"@swift-ci please smoke test"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6nOng==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6nOng=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzMzg0NjQ2","url":"https://github.com/apple/swift/pull/22647","author":{"login":"dan-zheng"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":12,"deletions":14,"changedFiles":1,"mergedAt":"2019-02-15T14:37:49Z","createdAt":"2019-02-15T10:46:45Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MTgxMjI3","state":"COMMENTED","author":{"login":"dan-zheng"},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"Regarding debug log changes:\r\n* Old:\r\n```\r\n[AD] Running `Cleanup::apply` for   %7 = alloc_stack $τ_0_0.CotangentVector        // users: %56, %41, %8\r\n\r\n[AD] Cleaning up local buffer   %7 = alloc_stack $τ_0_0.CotangentVector        // users: %56, %41, %8\r\n\r\n[AD] Running `Cleanup::apply` for   %4 = alloc_stack $τ_0_0.CotangentVector        // users: %57, %5\r\n\r\n[AD] Cleaning up local buffer   %4 = alloc_stack $τ_0_0.CotangentVector        // users: %57, %5\r\n\r\n[AD] Generated adjoint\r\n```\r\n\r\n* New:\r\n```\r\n[AD] Running `Cleanup::apply` for   %7 = alloc_stack $τ_0_0.CotangentVector        // users: %56, %41, %8\r\n[AD] Cleaning up local buffer   %7 = alloc_stack $τ_0_0.CotangentVector        // users: %56, %41, %8\r\n[AD] Running `Cleanup::apply` for   %4 = alloc_stack $τ_0_0.CotangentVector        // users: %57, %5\r\n[AD] Cleaning up local buffer   %4 = alloc_stack $τ_0_0.CotangentVector        // users: %57, %5\r\n[AD] Generated adjoint:\r\n```\r\n\r\nIt seems the printed `SILValue` always has a newline at the end - verified via visual inspection based on existing tests."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQxMDo0OTo0MlrOD1RhNw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQxMDo0OTo0MlrOD1RhNw=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MTk4MzQy","state":"APPROVED","author":{"login":"rxwei"},"comments":{"edges":[{"node":{"author":{"login":"rxwei"},"body":"Not sure if that's the case if it's a SIL argument."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQxMTozNjozMFrOD1SUyw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQxMTozNjozMFrOD1SUyw=="}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNVQxMTozNjozOCswMDowMLkyMDE5LTAyLTE1VDExOjM2OjI5KzAwOjAwzgwr0cY=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNVQxMDo0OTo0NyswMDowMLkyMDE5LTAyLTE1VDEwOjQ5OjMwKzAwOjAwzgwrjus="}},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"@swift-ci Please test tensorflow"}},{"node":{"author":{"login":"dan-zheng"},"body":"> Not sure if that's the case if it's a SIL argument.\r\n\r\nTrue, though I don't think we'd ever clean up arguments. Could you confirm?"}},{"node":{"author":{"login":"dan-zheng"},"body":"macOS CI flaked, merging."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6ktfw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6gfOA=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzMzc3MTI1","url":"https://github.com/apple/swift/pull/22646","author":{"login":"dan-zheng"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":14,"deletions":11,"changedFiles":5,"mergedAt":"2019-02-15T14:35:09Z","createdAt":"2019-02-15T10:22:59Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MTcxOTg2","state":"APPROVED","author":{"login":"rxwei"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNVQxMDoyNzo1OCswMDowMLkyMDE5LTAyLTE1VDEwOjI3OjU4KzAwOjAwzgwratI=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNVQxMDoyNzo1OCswMDowMLkyMDE5LTAyLTE1VDEwOjI3OjU4KzAwOjAwzgwratI="}},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"@swift-ci Please test tensorflow"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6feUw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6feUw=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzMzQyMDQ4","url":"https://github.com/apple/swift/pull/22645","author":{"login":"dan-zheng"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":62,"deletions":93,"changedFiles":1,"mergedAt":"2019-02-15T10:43:48Z","createdAt":"2019-02-15T08:14:37Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MTIyMTQy","state":"COMMENTED","author":{"login":"dan-zheng"},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"`localAllocations` are no longer deallocated in reverse order because `localAllocBuilder` creates new adjoint buffers *before* the last allocated adjoint buffer. This is due to a quirk of `SILBuilder`: insertion point can only be set such that new instructions come before an instruction, not after.\r\n\r\nThis is all fine if `getAdjointBuffer` is the only code appending to `localAllocations`, but there is one other raw call to `localAllocations.push_back(adjBuf);` for the seed adjoint. But actually, I think that raw call should be removed - let me try to remove it now."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQwODoyMDo1OVrOD1Oj8Q==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQwODoyMDo1OVrOD1Oj8Q=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MTI1MjYz","state":"COMMENTED","author":{"login":"dan-zheng"},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"The only raw call to `localAllocations.push_back` is removed in https://github.com/apple/swift/pull/22645/commits/e90c5b7288ec26a438c59ff9c62ee47d6b9c8cec.\r\n\r\nNow, it's fine that `localAllocations` are deallocated in forward order (because there's only one place where `localAllocations` is appended and we can reason about the ordering)."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQwODozMDo0NVrOD1Ot7A==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQwODozMDo0NVrOD1Ot7A=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MTI4MTEw","state":"COMMENTED","author":{"login":"rxwei"},"comments":{"edges":[{"node":{"author":{"login":"rxwei"},"body":"You need to apply cleanups."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQwODozOToyNlrOD1O3BQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQwODozOToyNlrOD1O3BQ=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MTQwMjE5","state":"COMMENTED","author":{"login":"dan-zheng"},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"Done in https://github.com/apple/swift/pull/22645/commits/897fa8f73af077cecbfffe7f8f21b9a2ef0ec084."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQwOToxMzowN1rOD1PdIQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQwOToxMzowN1rOD1PdIQ=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MTQxNzc4","state":"APPROVED","author":{"login":"rxwei"},"comments":{"edges":[{"node":{"author":{"login":"rxwei"},"body":"```suggestion\r\n    ValueWithCleanup bufWithCleanup(newBuf, makeCleanup(newBuf, cleanupFn));\r\n```"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQwOToxNjo1M1rOD1PiOA==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQwOToxNjo1M1rOD1PiOA=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MTQ1MzIw","state":"COMMENTED","author":{"login":"dan-zheng"},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"It would be nice to remove this else branch, but unfortunately it's necessary to avoid `stack dealloc does not match most recent stack alloc` verification failure.\r\n\r\nI believe this is because the insertion point of `localAllocBuilder` gets moved back as `builder` creates instructions, so the insertion point is no longer at the top of the adjoint entry BB."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQwOToyNDo1M1rOD1PtkQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQwOToyNDo1M1rOD1PtkQ=="}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNVQwOToyNDo1NCswMDowMLkyMDE5LTAyLTE1VDA5OjI0OjUzKzAwOjAwzgwrAqg=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNVQwODoyMDo1OSswMDowMLkyMDE5LTAyLTE1VDA4OjIwOjU4KzAwOjAwzgwqqB4="}},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"@swift-ci Please test tensorflow"}},{"node":{"author":{"login":"dan-zheng"},"body":"@swift-ci Please test tensorflow"}},{"node":{"author":{"login":"dan-zheng"},"body":"@swift-ci Please test tensorflow linux"}},{"node":{"author":{"login":"dan-zheng"},"body":"macOS tests flaked again.\r\n\r\nI noticed a pattern: macOS tests fail if CI is triggered on a different PR. CI actually starts for that PR and CI for this PR fails due to \"missing file\" errors, ostensibly because files are overwritten.\r\n\r\n### Evidence\r\n\r\n* Two CI jobs running at once on macOS CI machine:\r\n\r\n![image](https://user-images.githubusercontent.com/5590046/52851255-7ec6de00-30ca-11e9-847a-c866a163909e.png)\r\n(image from https://ci-external.swift.org/job/swift-PR-TensorFlow-macOS)\r\n\r\n* Example error (from [this job](https://ci-external.swift.org/job/swift-PR-TensorFlow-macOS/979/console)):\r\n```\r\nTesting: 0 .Exception in thread Thread-3:\r\nTraceback (most recent call last):\r\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py\", line 810, in __bootstrap_inner\r\n    self.run()\r\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py\", line 763, in run\r\n    self.__target(*self.__args, **self.__kwargs)\r\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/multiprocessing/pool.py\", line 405, in _handle_results\r\n    cache[job]._set(i, obj)\r\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/multiprocessing/pool.py\", line 572, in _set\r\n    self._callback(self._value)\r\n  File \"/Volumes/BuildData/Users/swiftci/jenkins/workspace/swift-PR-TensorFlow-macOS/llvm/utils/lit/lit/run.py\", line 179, in consume_test_result\r\n  File \"/Volumes/BuildData/Users/swiftci/jenkins/workspace/swift-PR-TensorFlow-macOS/llvm/utils/lit/lit/main.py\", line 47, in update\r\n  File \"/Volumes/BuildData/Users/swiftci/jenkins/workspace/swift-PR-TensorFlow-macOS/llvm/utils/lit/lit/main.py\", line 162, in update_incremental_cache\r\nOSError: [Errno 2] No such file or directory: '/Volumes/BuildData/Users/swiftci/jenkins/workspace/swift-PR-TensorFlow-macOS/swift/validation-test/compiler_crashers_fixed/28248-swift-dynamicselftype-get.swift'\r\n```\r\n\r\n---\r\n\r\n@shahmishal: Could you please verify whether my observations are correct? Is it possible to fix this macOS CI behavior, assuming it's not intentional? I don't believe Linux CI has this problem."}},{"node":{"author":{"login":"dan-zheng"},"body":"Merging despite flaky macOS CI (tested locally on macOS)."}},{"node":{"author":{"login":"shahmishal"},"body":"@dan-zheng Fixed the two node issue. "}},{"node":{"author":{"login":"dan-zheng"},"body":"> @dan-zheng Fixed the two node issue.\r\n\r\nAwesome, thank you so much!"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6xPHQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6eWTw=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzMzA0MTI2","url":"https://github.com/apple/swift/pull/22643","author":{"login":"jrose-apple"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":59,"deletions":0,"changedFiles":1,"mergedAt":"2019-02-19T18:33:15Z","createdAt":"2019-02-15T04:22:56Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MDc3MzIy","state":"APPROVED","author":{"login":"stephentyrone"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MzU1OTc4","state":"APPROVED","author":{"login":"milseman"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MzcwMTI0","state":"COMMENTED","author":{"login":"benrimmington"},"comments":{"edges":[{"node":{"author":{"login":"benrimmington"},"body":"```suggestion\r\n### The Curiously Recursive Inlinable Switch Pattern (CRISP)\r\n```"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQxODoxMDozNVrOD1an_w==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQxODoxMDozNVrOD1an_w=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0Mzk3MDI3","state":"COMMENTED","author":{"login":"jrose-apple"},"comments":{"edges":[{"node":{"author":{"login":"jrose-apple"},"body":"It's a reference to the [Curiously Recurring Template Pattern](https://en.wikipedia.org/wiki/Curiously_recurring_template_pattern), but maybe it doesn't need to be."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQxOToxNjowOVrOD1b53g==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQxOToxNjowOVrOD1b53g=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NDA1MjQx","state":"COMMENTED","author":{"login":"moiseev"},"comments":{"edges":[{"node":{"author":{"login":"moiseev"},"body":"```suggestion\r\nBecause `_roundSlowPath(_:)` isn't inlinable, the version of `round(_:)` that gets called at run time will always be the version implemented in the standard library dylib. And since `FloatingPointRoundingRule` is *also* defined in the standard library, we know it'll never be out of sync with this version of `round(_:)`.\r\n```"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQxOTozNDozMlrOD1cUIw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQxOTozNDozMlrOD1cUIw=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NDEyMzU0","state":"COMMENTED","author":{"login":"benrimmington"},"comments":{"edges":[{"node":{"author":{"login":"benrimmington"},"body":"Either name is fine by me, but you've used the \"Curiously *Recursive* Inlinable Switch Pattern\" elsewhere (in the final paragraph of the section; and in the commit/PR title)."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQxOTo1MTozMFrOD1cpoA==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQxOTo1MTozMFrOD1cpoA=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NDczMzcx","state":"COMMENTED","author":{"login":"jrose-apple"},"comments":{"edges":[{"node":{"author":{"login":"jrose-apple"},"body":"Heh. My personal style is to not codefont type names, but I should defer to whatever the document is already doing."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQyMjo1OTo0MVrOD1flGw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQyMjo1OTo0MVrOD1flGw=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NDczNTAw","state":"COMMENTED","author":{"login":"jrose-apple"},"comments":{"edges":[{"node":{"author":{"login":"jrose-apple"},"body":"Ooh, whoops, thanks! Okay then."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQyMzowMDoxOVrOD1flpA==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQyMzowMDoxOVrOD1flpA=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NTAyOTEx","state":"COMMENTED","author":{"login":"jrose-apple"},"comments":{"edges":[{"node":{"author":{"login":"jrose-apple"},"body":"Looks like the document agrees with me (\"AnyObject\", \"Strings\")."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQwMzoyMjo0MVrOD1hIYw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQwMzoyMjo0MVrOD1hIYw=="}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNlQwMzoyMjo0MSswMDowMLkyMDE5LTAyLTE2VDAzOjIyOjQxKzAwOjAwzgwwd38=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNVQwNDoyNTo0MyswMDowMLkyMDE5LTAyLTE1VDA0OjI1OjQzKzAwOjAwzgwp-Qo="}},"comments":{"edges":[{"node":{"author":{"login":"jrose-apple"},"body":"@swift-ci Please smoke test"}},{"node":{"author":{"login":"jrose-apple"},"body":"@swift-ci Please smoke test and merge"}},{"node":{"author":{"login":"jrose-apple"},"body":"@swift-ci Please smoke test"}},{"node":{"author":{"login":"jrose-apple"},"body":"@swift-ci Please smoke test Linux"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7qqNA==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6aTqw=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzMzAzNjM1","url":"https://github.com/apple/swift/pull/22642","author":{"login":"DougGregor"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":40,"deletions":5,"changedFiles":4,"mergedAt":"2019-02-15T17:38:47Z","createdAt":"2019-02-15T04:19:21Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MDc3ODk3","state":"APPROVED","author":{"login":"slavapestov"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MzU3NjQz","state":"APPROVED","author":{"login":"AnnaZaks"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNVQxNzozODo0MSswMDowMLkyMDE5LTAyLTE1VDE3OjM4OjQxKzAwOjAwzgwuQAs=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNVQwNDozMDo0MiswMDowMLkyMDE5LTAyLTE1VDA0OjMwOjQyKzAwOjAwzgwp-0k="}},"comments":{"edges":[{"node":{"author":{"login":"DougGregor"},"body":"@swift-ci please test"}},{"node":{"author":{"login":"DougGregor"},"body":"@swift-ci please test source compatibility"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6aRKA==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6aRFA=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzMjkzMTY4","url":"https://github.com/apple/swift/pull/22641","author":{"login":"fredriss"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":410,"deletions":85,"changedFiles":9,"mergedAt":"2019-02-16T15:29:42Z","createdAt":"2019-02-15T02:57:52Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"fredriss"},"body":"@slavapestov I'd like to take some of your recent changes to RemoteAST in the initial 5.1 branch. It would make it easier to branch lldb. Does this set of commits make sense in isolation?"}},{"node":{"author":{"login":"fredriss"},"body":"@swift-ci test"}},{"node":{"author":{"login":"swift-ci"},"body":"**Build failed**\n[Swift Test Linux Platform](https://ci.swift.org/job/swift-PR-Linux/11092/)\nGit Sha - 28d1cd38725d10669a3fd3f9df998b2846f94fc1\n"}},{"node":{"author":{"login":"swift-ci"},"body":"**Build failed**\n[Swift Test OS X Platform](https://ci.swift.org/job/swift-PR-osx/11069/)\nGit Sha - 28d1cd38725d10669a3fd3f9df998b2846f94fc1\n"}},{"node":{"author":{"login":"fredriss"},"body":"Note that this is failing to build in LLDB because PR testing is not setup correctly for 5.1. "}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6piNQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6ZeCg=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzMjg5ODc5","url":"https://github.com/apple/swift/pull/22640","author":{"login":"nkcsgexi"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":3,"deletions":1,"changedFiles":2,"mergedAt":"2019-02-15T07:43:52Z","createdAt":"2019-02-15T02:34:26Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MDg0MTMy","state":"APPROVED","author":{"login":"compnerd"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MDg2OTkw","state":"APPROVED","author":{"login":"dan-zheng"},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"```suggestion\r\n        // PrefixUnaryExpr shouldn't be syntactically considered as a function call\r\n```"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQwNTozODoxN1rOD1MuBg==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQwNTozODoxN1rOD1MuBg=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MDkyMDk3","state":"COMMENTED","author":{"login":"nkcsgexi"},"comments":{"edges":[{"node":{"author":{"login":"nkcsgexi"},"body":"Done"}},{"node":{"author":{"login":"nkcsgexi"},"body":"Done"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQwNjoxMDo0NFrOD1NAZg==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQwNjoxMDozMVrOD1NATA=="}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNVQwNjoxMDo0NCswMDowMLkyMDE5LTAyLTE1VDA2OjEwOjMxKzAwOjAwzgwqMsE=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNVQwNToxOToyMiswMDowMLkyMDE5LTAyLTE1VDA1OjE5OjIzKzAwOjAwzgwqE6Q="}},"comments":{"edges":[{"node":{"author":{"login":"nkcsgexi"},"body":"@swift-ci please smoke test"}},{"node":{"author":{"login":"nkcsgexi"},"body":"@swift-ci please smoke test"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6bcNg==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6ZPAg=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzMjg5NDY5","url":"https://github.com/apple/swift/pull/22639","author":{"login":"dan-zheng"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":44,"deletions":53,"changedFiles":2,"mergedAt":"2019-02-15T09:16:16Z","createdAt":"2019-02-15T02:31:21Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MDgzNDk2","state":"APPROVED","author":{"login":"marcrasi"},"comments":{"edges":[{"node":{"author":{"login":"marcrasi"},"body":"Could this test construct and use its own dynamicCallable, so that it doesn't need to depend on python?"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQwNToxNDoyMlrOD1MjCA==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQwNToxNDoyMlrOD1MjCA=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MDg0MDg1","state":"COMMENTED","author":{"login":"dan-zheng"},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"Yes - though I think we want to be confident that things work specifically with `PythonObject`.\r\nI'd like to leave the test as is for now, if you don't mind."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQwNToxOTowMlrOD1MkyA==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQwNToxOTowMlrOD1MkyA=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MDg0MTMz","state":"APPROVED","author":{"login":"pschuh"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MDg0Mjcz","state":"COMMENTED","author":{"login":"marcrasi"},"comments":{"edges":[{"node":{"author":{"login":"marcrasi"},"body":"don't mind!"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQwNToyMDoyN1rOD1Mlaw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQwNToyMDoyN1rOD1Mlaw=="}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNVQwNToyMDoyOCswMDowMLkyMDE5LTAyLTE1VDA1OjIwOjI3KzAwOjAwzgwqFDE=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNVQwNToxNDo0NSswMDowMLkyMDE5LTAyLTE1VDA1OjE0OjIyKzAwOjAwzgwqESg="}},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"cc @rxwei, who may be curious"}},{"node":{"author":{"login":"dan-zheng"},"body":"@swift-ci Please test tensorflow"}},{"node":{"author":{"login":"dan-zheng"},"body":"> Does dynamicCallable exist in master, and is this a fix that should be upstreamed to master?\r\n\r\nYes, this is indeed the case. I can upstream in a follow-up."}},{"node":{"author":{"login":"rxwei"},"body":"Don't you still need a custom `@dynamicCallable` type when you upstream?"}},{"node":{"author":{"login":"dan-zheng"},"body":"> Don't you still need a custom `@dynamicCallable` type when you upstream?\r\n\r\nI tried to write an IDE test with a custom `@dynamicCallable` type, but that test doesn't trigger a crash without this patch (unlike the current test with `PythonObject`).\r\n\r\nHere's what I tried:\r\n```swift\r\n// RUN: %target-swift-ide-test -repl-code-completion -source-filename=%s\r\n\r\n@dynamicMemberLookup\r\n@dynamicCallable\r\nstruct Callable {\r\n  subscript dynamicMember(name: String) -> Callable {\r\n    get { return self } \r\n  }\r\n  func dynamicallyCall(withArguments: [Callable]) -> Callable {\r\n    return self\r\n  }\r\n}\r\n\r\nCallable().member.call(\r\n```\r\n\r\n---\r\n\r\nCreated [TF-217](https://bugs.swift.org/browse/TF-217) to track upstreaming to master. Let's handle that later."}},{"node":{"author":{"login":"dan-zheng"},"body":"@swift-ci Please test tensorflow"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6c4MA==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6ZLxw=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzMjgzMzI1","url":"https://github.com/apple/swift/pull/22636","author":{"login":"saeta"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":9,"deletions":0,"changedFiles":1,"mergedAt":"2019-02-16T00:01:59Z","createdAt":"2019-02-15T01:48:36Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MDk1NTI5","state":"APPROVED","author":{"login":"rxwei"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNVQwNjozMDozNiswMDowMLkyMDE5LTAyLTE1VDA2OjMwOjM2KzAwOjAwzgwqQCk=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNVQwNjozMDozNiswMDowMLkyMDE5LTAyLTE1VDA2OjMwOjM2KzAwOjAwzgwqQCk="}},"comments":{"edges":[{"node":{"author":{"login":"rxwei"},"body":"@swift-ci please test tensorflow"}},{"node":{"author":{"login":"rxwei"},"body":"@swift-ci please test tensorflow macOS"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6ibaw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6b_AA=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzMjc1MDYz","url":"https://github.com/apple/swift/pull/22634","author":{"login":"slavapestov"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":839,"deletions":272,"changedFiles":17,"mergedAt":"2019-02-19T04:50:25Z","createdAt":"2019-02-15T00:55:50Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NDY3Mjc3","state":"COMMENTED","author":{"login":"jrose-apple"},"comments":{"edges":[{"node":{"author":{"login":"jrose-apple"},"body":"I'm confused why you named this one \"Singleton\". I guess you mean \"non-generic\", but I think \"NonGeneric\" or \"RuntimeNonGeneric\" would be better.\r\n\r\nAlternately: Resilient, SwiftNonGeneric, ObjCUpdate, ObjCFixedOrUpdate, ObjCFixed."}},{"node":{"author":{"login":"jrose-apple"},"body":"This seems like a case where coalescing \"generic\" with \"resilient ancestry\" is hurting us. Generic classes still have static vtables, no?"}},{"node":{"author":{"login":"jrose-apple"},"body":"Seems redundant for the \"singleton\" case, no?"}},{"node":{"author":{"login":"jrose-apple"},"body":"Nitpick: these should all take a `const` decl."}},{"node":{"author":{"login":"jrose-apple"},"body":"Nitpick: These should all be doc comments, and the paragraph above should be the comment for the type."}},{"node":{"author":{"login":"jrose-apple"},"body":"If ancestry matters, shouldn't `ClassHasResilientAncestry` be included here too? If it doesn't, shouldn't `ClassHasObjCAncestry` be omitted?\r\n\r\n(Please add test cases for this distinction too.)"}},{"node":{"author":{"login":"jrose-apple"},"body":"`ClassHasMissingMembers` doesn't really make sense here; that's only something that can happen if you're talking about someone *else's* class. But maybe *assuming* the metadata *might* require initialization is worth it."}},{"node":{"author":{"login":"jrose-apple"},"body":"`ClassHasGenericLayout` doesn't require initialization?"}},{"node":{"author":{"login":"jrose-apple"},"body":"…or if the class has resilient ancestry."}},{"node":{"author":{"login":"jrose-apple"},"body":"If we really want, there's a hidden dyld function `dyld_get_min_os_version` that can print what deployment target a library was compiled with. But I don't think that's actually going to be the failure mode; more likely it's a compiler bug where we think the class doesn't need a fragile layout, but then it somehow gets into ObjC initialization anyway (maybe through NSClassFromString)."}},{"node":{"author":{"login":"jrose-apple"},"body":"Can you assert `!doesMetadataRequireRelocation()` if you don't want to count those cases?"}},{"node":{"author":{"login":"jrose-apple"},"body":"Nitpick: these should all just return the value instead of cascading in the `else` branch."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQyMjo1NzozN1rOD1fjYw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQyMjozNzo0M1rOD1fTmw=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NDgwNjMx","state":"COMMENTED","author":{"login":"slavapestov"},"comments":{"edges":[{"node":{"author":{"login":"slavapestov"},"body":"We sometimes compute a ClassLayout for other classes too, like when doing direct stored property access. So missing members can come up here.\r\n\r\nThe predicates are meant to be mutually exclusive, so I need to add am assert to rule out the resilient ancestry and generic ancestry case here."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQyMzozNDo0OVrOD1f9tw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQyMzozNDo0OVrOD1f9tw=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NDgwOTY2","state":"COMMENTED","author":{"login":"slavapestov"},"comments":{"edges":[{"node":{"author":{"login":"slavapestov"},"body":"The name comes from the runtime’s “SingletonMetadataInitialization” and related code, which is used for non-generic resilient types. ObjCFixed is not really accurate, because it’s used for non-objc classes without any dynamic initialization as well."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQyMzozNjozMVrOD1f-4w==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQyMzozNjozMVrOD1f-4w=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NDgxNDI2","state":"COMMENTED","author":{"login":"slavapestov"},"comments":{"edges":[{"node":{"author":{"login":"slavapestov"},"body":"When a generic class is instantiated, we allocate and create a new class metadata from whole cloth. It has the right size but the vtable has to be filled in at runtime.\r\n\r\nIf you recall a while ago generics were implemented by IRGen emitting a “pattern”; the runtime would memcpy the pattern to a new allocation and patch up a few things. However we don’t do it that way; there is still a pattern but it only has a few things in it and it’s true const."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQyMzozODo1N1rOD1gAXQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQyMzozODo1N1rOD1gAXQ=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NDgxNzc2","state":"COMMENTED","author":{"login":"slavapestov"},"comments":{"edges":[{"node":{"author":{"login":"slavapestov"},"body":"I should add a comment. On Windows, we cannot emit an absolute reference to a symbol from another shared library. So the runtime has to fill in the value witness table, and we cannot use the fixed class metadata strategy at all. We could special-case this and still emit the value witness table statically on non-Windows but it doesn’t seem beneficial."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQyMzo0MDo1MlrOD1gBhw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQyMzo0MDo1MlrOD1gBhw=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NDgyMDE1","state":"COMMENTED","author":{"login":"slavapestov"},"comments":{"edges":[{"node":{"author":{"login":"slavapestov"},"body":"Yes, this error indicates something went very wrong."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQyMzo0MjoyMFrOD1gCWQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNVQyMzo0MjoyMFrOD1gCWQ=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NDk1NzYx","state":"COMMENTED","author":{"login":"slavapestov"},"comments":{"edges":[{"node":{"author":{"login":"slavapestov"},"body":"If \"resilient ancestry\" is true but \"resilient members\" is not true, you've inherited from a @_fixed_layout class in another module. This means you have to instantiate your metadata, but you still have a fixed size _instance_ whose stored property layout is fully known. I'll add a comment explaining what isFixedSize() is used for. I added tests for this case when I redid what it means to have a @_fixed_layout class."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQwMToxNzo1MFrOD1gweA==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQwMToxNzo1MFrOD1gweA=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NDk2MTQw","state":"COMMENTED","author":{"login":"slavapestov"},"comments":{"edges":[{"node":{"author":{"login":"slavapestov"},"body":"Just like in the previous case I still think this is right; \"resilient ancestry\" means we have ancestors whose metadata size is not known at compile time (they can add or remove vtable entries!) but we might still know the stored property layout (they might all be @_fixed_layout). Sorry :)"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQwMToyMTozNVrOD1gxxw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQwMToyMTozNVrOD1gxxw=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NDk2Njc0","state":"COMMENTED","author":{"login":"slavapestov"},"comments":{"edges":[{"node":{"author":{"login":"slavapestov"},"body":"Done, and added comments too!"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQwMToyNzoyMFrOD1gzaQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQwMToyNzoyMFrOD1gzaQ=="}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0NDk2ODMx","state":"COMMENTED","author":{"login":"slavapestov"},"comments":{"edges":[{"node":{"author":{"login":"slavapestov"},"body":"Refactored. Also, what's an \"else\" branch? The LLVM coding style prohibits 'if' statements without an early return :)"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQwMToyOTowNFrOD1gz6g==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK0MjAxOS0wMi0xNlQwMToyOTowNFrOD1gz6g=="}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNlQwMToyOTowNCswMDowMLkyMDE5LTAyLTE2VDAxOjI5OjA0KzAwOjAwzgwwX78=","hasNextPage":true,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNVQyMjo1ODowNiswMDowMLkyMDE5LTAyLTE1VDIyOjM0OjQ4KzAwOjAwzgwv7E0="}},"comments":{"edges":[{"node":{"author":{"login":"slavapestov"},"body":"@jrose-apple This is ready for review."}},{"node":{"author":{"login":"slavapestov"},"body":"@swift-ci Please test"}},{"node":{"author":{"login":"slavapestov"},"body":"@swift-ci Please test source compatibility"}},{"node":{"author":{"login":"swift-ci"},"body":"**Build failed**\n[Swift Test Linux Platform](https://ci.swift.org/job/swift-PR-Linux/11103/)\nGit Sha - ea5dd325b040fb7d4721411b3c12ce2b0dd87029\n"}},{"node":{"author":{"login":"swift-ci"},"body":"**Build failed**\n[Swift Test OS X Platform](https://ci.swift.org/job/swift-PR-osx/11080/)\nGit Sha - ea5dd325b040fb7d4721411b3c12ce2b0dd87029\n"}},{"node":{"author":{"login":"slavapestov"},"body":"Thanks for the detailed review. I agree with most of the comments and will address them soon."}},{"node":{"author":{"login":"swift-ci"},"body":"**Build failed**\n[Swift Test Linux Platform](https://ci.swift.org/job/swift-PR-Linux/11113/)\nGit Sha - e27e1b50e9a8e01d2f444ffce96afba4574ffadb\n"}},{"node":{"author":{"login":"swift-ci"},"body":"**Build failed**\n[Swift Test OS X Platform](https://ci.swift.org/job/swift-PR-osx/11091/)\nGit Sha - e27e1b50e9a8e01d2f444ffce96afba4574ffadb\n"}},{"node":{"author":{"login":"slavapestov"},"body":"@swift-ci Please test"}},{"node":{"author":{"login":"swift-ci"},"body":"**Build failed**\n[Swift Test Linux Platform](https://ci.swift.org/job/swift-PR-Linux/11115/)\nGit Sha - d6817184385c32584d5680532a0fca4e91302e9e\n"}},{"node":{"author":{"login":"swift-ci"},"body":"**Build failed**\n[Swift Test OS X Platform](https://ci.swift.org/job/swift-PR-osx/11094/)\nGit Sha - d6817184385c32584d5680532a0fca4e91302e9e\n"}},{"node":{"author":{"login":"slavapestov"},"body":"@swift-ci Please smoke test"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG7bcIg==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6s1LA=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzMjc0MzA4","url":"https://github.com/apple/swift/pull/22633","author":{"login":"moiseev"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":1,"deletions":1,"changedFiles":1,"mergedAt":"2019-02-15T17:08:23Z","createdAt":"2019-02-15T00:51:33Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"moiseev"},"body":"@swift-ci Please test macOS platform"}},{"node":{"author":{"login":"moiseev"},"body":"@swift-ci Please smoke test Linux platform"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6YAsg==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6YAmA=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzMjY2Nzcy","url":"https://github.com/apple/swift/pull/22630","author":{"login":"xedin"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":113,"deletions":53,"changedFiles":5,"mergedAt":"2019-02-16T01:36:20Z","createdAt":"2019-02-15T00:08:09Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MDc0ODU4","state":"APPROVED","author":{"login":"DougGregor"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNVQwNDowNzowNyswMDowMLkyMDE5LTAyLTE1VDA0OjA3OjA3KzAwOjAwzgwp72o=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNVQwNDowNzowNyswMDowMLkyMDE5LTAyLTE1VDA0OjA3OjA3KzAwOjAwzgwp72o="}},"comments":{"edges":[{"node":{"author":{"login":"xedin"},"body":"@swift-ci please test"}},{"node":{"author":{"login":"xedin"},"body":"@swift-ci please test source compatibility"}},{"node":{"author":{"login":"swift-ci"},"body":"**Build failed**\n[Swift Test Linux Platform](https://ci.swift.org/job/swift-PR-Linux/11096/)\nGit Sha - 4f0f090e3631f30fe56774c45d529a09ada95ef2\n"}},{"node":{"author":{"login":"xedin"},"body":"@swift-ci please test Linux platform"}},{"node":{"author":{"login":"swift-ci"},"body":"**Build failed**\n[Swift Test OS X Platform](https://ci.swift.org/job/swift-PR-osx/11073/)\nGit Sha - 4f0f090e3631f30fe56774c45d529a09ada95ef2\n"}},{"node":{"author":{"login":"xedin"},"body":"@swift-ci please test macOS platform"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6uSig==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6csaA=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzMjYyMjA4","url":"https://github.com/apple/swift/pull/22629","author":{"login":"nkcsgexi"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":43,"deletions":2,"changedFiles":5,"mergedAt":"2019-02-15T04:24:24Z","createdAt":"2019-02-14T23:44:29Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MDI3NDY3","state":"APPROVED","author":{"login":"akyrtzi"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNFQyMzo0NTo1NCswMDowMLkyMDE5LTAyLTE0VDIzOjQ1OjU0KzAwOjAwzgwpNks=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNFQyMzo0NTo1NCswMDowMLkyMDE5LTAyLTE0VDIzOjQ1OjU0KzAwOjAwzgwpNks="}},"comments":{"edges":[{"node":{"author":{"login":"nkcsgexi"},"body":"@swift-ci please test"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6XEgg==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6XEgg=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzMjU5ODk2","url":"https://github.com/apple/swift/pull/22628","author":{"login":"rxwei"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":18,"deletions":10,"changedFiles":2,"mergedAt":"2019-02-15T00:53:39Z","createdAt":"2019-02-14T23:32:16Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MDMzOTgy","state":"COMMENTED","author":{"login":"dan-zheng"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}},{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MDM0MDIw","state":"APPROVED","author":{"login":"dan-zheng"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNVQwMDoxNDoyNCswMDowMLkyMDE5LTAyLTE1VDAwOjE0OjI0KzAwOjAwzgwpT-Q=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNVQwMDoxNDoxNiswMDowMLkyMDE5LTAyLTE1VDAwOjE0OjE2KzAwOjAwzgwpT74="}},"comments":{"edges":[{"node":{"author":{"login":"rxwei"},"body":"@swift-ci please test tensorflow"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6Xg2A==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6Xg2A=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzMjU5NDEx","url":"https://github.com/apple/swift/pull/22627","author":{"login":"nkcsgexi"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":43,"deletions":2,"changedFiles":5,"mergedAt":"2019-02-15T01:30:29Z","createdAt":"2019-02-14T23:29:54Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MDI3MTg3","state":"APPROVED","author":{"login":"akyrtzi"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNFQyMzo0NDozNiswMDowMLkyMDE5LTAyLTE0VDIzOjQ0OjM2KzAwOjAwzgwpNTM=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNFQyMzo0NDozNiswMDowMLkyMDE5LTAyLTE0VDIzOjQ0OjM2KzAwOjAwzgwpNTM="}},"comments":{"edges":[{"node":{"author":{"login":"nkcsgexi"},"body":"@swift-ci please smoke test"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6W22A==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6W22A=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzMjQ2ODgy","url":"https://github.com/apple/swift/pull/22623","author":{"login":"adrian-prantl"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":7,"deletions":5,"changedFiles":1,"mergedAt":"2019-02-15T00:58:36Z","createdAt":"2019-02-14T22:34:22Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"adrian-prantl"},"body":"@swift-ci test and merge"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6WB_g==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6WB_g=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzMjQ2NjYw","url":"https://github.com/apple/swift/pull/22622","author":{"login":"DougGregor"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":40,"deletions":5,"changedFiles":4,"mergedAt":"2019-02-15T04:03:05Z","createdAt":"2019-02-14T22:33:26Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"DougGregor"},"body":"@swift-ci please smoke test"}},{"node":{"author":{"login":"DougGregor"},"body":"@swift-ci please test source compatibility"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6V6aA==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6V6OA=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzMjMzNjE0","url":"https://github.com/apple/swift/pull/22621","author":{"login":"nkcsgexi"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":34,"deletions":0,"changedFiles":4,"mergedAt":"2019-02-15T03:42:51Z","createdAt":"2019-02-14T21:46:20Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"nkcsgexi"},"body":"@swift-ci please smoke test and merge"}},{"node":{"author":{"login":"nkcsgexi"},"body":"@swift-ci please smoke test and merge"}},{"node":{"author":{"login":"nkcsgexi"},"body":"@swift-ci please smoke test"}},{"node":{"author":{"login":"benlangmuir"},"body":"This broke when testing for iphone simulator: https://ci.swift.org/view/Packages/job/oss-swift-package-osx/2959/\r\n\r\nI hava a revert PR: https://github.com/apple/swift/pull/22650\r\n\r\nPlease do a full (non-smoke) CI tests before re-applying.  I think the fix will be to add the command-line arguments that %target-swift-frontend does into the sourcekit command; at the minimum you'll want to add `-target %target-triple`, but there may be other things you need.\r\n"}},{"node":{"author":{"login":"nkcsgexi"},"body":"@benlangmuir thank for reverting! I’ll take a look"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6oX9g==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6U07A=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzMjIwNTU2","url":"https://github.com/apple/swift/pull/22620","author":{"login":"dan-zheng"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":20,"deletions":14,"changedFiles":1,"mergedAt":"2019-02-15T00:46:05Z","createdAt":"2019-02-14T20:59:59Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"dan-zheng"},"body":"Actually, after some thought, fixing TF-202 outright might be easier.\r\n\r\nSince all of the functions checking for `AdditiveArithmetic` conformance are defined under `AdjointEmitter`, we can simply set `errorOccurred = true` if no conformance is found.\r\nThen, callers check for `errorOccurred` to determine whether to error out. This might be a bit ugly because there are many callers.\r\n\r\n@rxwei: what do you think?"}},{"node":{"author":{"login":"dan-zheng"},"body":"Triggering tests in anticipation that tests will finish before I can implement a fix for TF-202."}},{"node":{"author":{"login":"dan-zheng"},"body":"@swift-ci Please test tensorflow"}},{"node":{"author":{"login":"rxwei"},"body":"> Since all of the functions checking for `AdditiveArithmetic` conformance are defined under `AdjointEmitter`, we can simply set `errorOccurred = true` if no conformance is found.\r\nThen, callers check for `errorOccurred` to determine whether to error out. This might be a bit ugly because there are many callers.\r\n\r\nThat is not a viable solution. No error will be emitted based on whether `errorOccurred` is true. You have to use `context.emitNondifferentiabilityError`."}},{"node":{"author":{"login":"dan-zheng"},"body":"> That is not a viable solution. No error will be emitted based on whether `errorOccurred` is true. You have to use `context.emitNondifferentiabilityError`.\r\n\r\nOh yes, good point. Would the solution work if `context.emitNondifferentiabilityError` is called in addition to setting `errorOccurred = true, when `AdditiveArithmetic` conformance is not found?"}},{"node":{"author":{"login":"rxwei"},"body":"Yes."}},{"node":{"author":{"login":"dan-zheng"},"body":"I'll implement the discussed solution for TF-202 soon.\r\nmacOS tests flaked; merging regardless (this PR is NFC)."}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6X7Cg==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6TzUA=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzMTg3NDgx","url":"https://github.com/apple/swift/pull/22619","author":{"login":"moiseev"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":10,"deletions":6,"changedFiles":1,"mergedAt":"2019-02-15T01:11:33Z","createdAt":"2019-02-14T19:07:34Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"moiseev"},"body":"@swift-ci Please smoke test"}},{"node":{"author":{"login":"moiseev"},"body":"@swift-ci Please smoke test"}},{"node":{"author":{"login":"moiseev"},"body":"@swift-ci Please smoke test"}},{"node":{"author":{"login":"jrose-apple"},"body":"I think you need an `env` in there for portability."}},{"node":{"author":{"login":"moiseev"},"body":" @jrose-apple you mean `env GIT_TERMINAL_PROMPT=0 git`?"}},{"node":{"author":{"login":"jrose-apple"},"body":"Yep, that's all. I think, anyway."}},{"node":{"author":{"login":"moiseev"},"body":"Done. Won't hurt =)"}},{"node":{"author":{"login":"moiseev"},"body":"@swift-ci Please smoke test"}},{"node":{"author":{"login":"moiseev"},"body":"@swift-ci Please smoke test"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6WD7Q==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6RLxQ=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzMTc5OTUz","url":"https://github.com/apple/swift/pull/22618","author":{"login":"harlanhaskins"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":2,"deletions":0,"changedFiles":1,"mergedAt":"2019-02-15T01:00:03Z","createdAt":"2019-02-14T18:41:45Z","reviews":{"edges":[{"node":{"id":"MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjA0MDQzNTAz","state":"APPROVED","author":{"login":"AnnaZaks"},"comments":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNVQwMDo1OTo0OSswMDowMLkyMDE5LTAyLTE1VDAwOjU5OjQ5KzAwOjAwzgwpdO8=","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpO5MjAxOS0wMi0xNVQwMDo1OTo0OSswMDowMLkyMDE5LTAyLTE1VDAwOjU5OjQ5KzAwOjAwzgwpdO8="}},"comments":{"edges":[{"node":{"author":{"login":"AnnaZaks"},"body":"@swift-ci please test"}},{"node":{"author":{"login":"shahmishal"},"body":"cc/ @AnnaZaks "}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6YFiw==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6Qn0Q=="}}}},{"node":{"id":"MDExOlB1bGxSZXF1ZXN0MjUzMTQ2NjM3","url":"https://github.com/apple/swift/pull/22617","author":{"login":"aschwaighofer"},"repository":{"name":"swift","owner":{"login":"apple"}},"additions":6,"deletions":8,"changedFiles":1,"mergedAt":"2019-02-14T18:37:35Z","createdAt":"2019-02-14T16:51:31Z","reviews":{"edges":[],"pageInfo":{"endCursor":null,"hasNextPage":false,"hasPreviousPage":false,"startCursor":null}},"comments":{"edges":[{"node":{"author":{"login":"aschwaighofer"},"body":"@swift-ci Please smoke test"}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpHOG6OKOQ==","hasNextPage":false,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpHOG6OKOQ=="}}}}],"pageInfo":{"endCursor":"Y3Vyc29yOnYyOpK5MjAxOS0wMi0xNFQxNjo1MTozMSswMDowMM4PFrYN","hasNextPage":true,"hasPreviousPage":false,"startCursor":"Y3Vyc29yOnYyOpK5MjAxOS0wMi0yMFQwNDozNzoyNyswMDowMM4PK1ND"}}}}}
